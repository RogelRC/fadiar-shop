"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[393],{285:(e,i,r)=>{r.d(i,{$:()=>c});var d=r(5155);r(2115);var t=r(4624),s=r(2085),l=r(9434);let a=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:i,variant:r,size:s,asChild:c=!1,...o}=e,n=c?t.DX:"button";return(0,d.jsx)(n,{"data-slot":"button",className:(0,l.cn)(a({variant:r,size:s,className:i})),...o})}},3546:(e,i,r)=>{r.d(i,{R:()=>d});let d=(0,r(5453).v)(e=>({name:"",brand:"",category:"",available:"",minPrice:0,maxPrice:1e6,setName:i=>e({name:i}),setBrand:i=>e({brand:i}),setCategory:i=>e({category:i}),setAvailable:i=>e({available:i}),setMinPrice:i=>e({minPrice:i}),setMaxPrice:i=>e({maxPrice:i})}))},4295:(e,i,r)=>{r.d(i,{A:()=>p});var d=r(5155),t=r(6766),s=r(1154),l=r(5196),a=r(7809),c=r(7712),o=r(4616),n=r(6874),u=r.n(n),x=r(285),h=r(5237),m=r(2115);function p(e){var i;let{product:r,location:n,currencies:p,onAuthRequired:g}=e,f=(0,h._)(e=>e.setAmount),{amount:P}=(0,h._)(),[v,b]=(0,m.useState)(!1),[j,w]=(0,m.useState)(!1),[N,y]=(0,m.useState)(!1),[k,C]=(0,m.useState)(1),z=(0,m.useRef)(null),A=(0,m.useRef)(null);(0,m.useRef)(0);let _=null===(i=[{id:10,oldPrice:50},{id:86,oldPrice:30},{id:53,oldPrice:8},{id:52,oldPrice:12},{id:32,oldPrice:380},{id:30,oldPrice:220},{id:31,oldPrice:300},{id:50,oldPrice:45},{id:90,oldPrice:300},{id:63,oldPrice:25},{id:62,oldPrice:30},{id:61,oldPrice:50},{id:80,oldPrice:300},{id:83,oldPrice:800},{id:85,oldPrice:320},{id:84,oldPrice:560},{id:64,oldPrice:750},{id:48,oldPrice:600},{id:51,oldPrice:40},{id:60,oldPrice:40},{id:54,oldPrice:6},{id:39,oldPrice:80},{id:88,oldPrice:70},{id:87,oldPrice:75},{id:56,oldPrice:20},{id:71,oldPrice:730},{id:34,oldPrice:500},{id:47,oldPrice:320},{id:28,oldPrice:215},{id:9,oldPrice:60},{id:78,oldPrice:50},{id:77,oldPrice:40},{id:58,oldPrice:1600},{id:57,oldPrice:2100},{id:44,oldPrice:1600},{id:45,oldPrice:1800},{id:81,oldPrice:115},{id:82,oldPrice:115},{id:89,oldPrice:25},{id:4,oldPrice:500},{id:5,oldPrice:null},{id:27,oldPrice:260},{id:66,oldPrice:260},{id:93,oldPrice:260},{id:33,oldPrice:290},{id:36,oldPrice:320},{id:1,oldPrice:360},{id:14,oldPrice:35},{id:37,oldPrice:35},{id:23,oldPrice:45},{id:65,oldPrice:30},{id:68,oldPrice:30},{id:67,oldPrice:40},{id:40,oldPrice:50},{id:8,oldPrice:60},{id:74,oldPrice:250},{id:76,oldPrice:570},{id:49,oldPrice:12},{id:55,oldPrice:10},{id:12,oldPrice:45},{id:11,oldPrice:30},{id:35,oldPrice:600},{id:41,oldPrice:750},{id:38,oldPrice:550},{id:69,oldPrice:525},{id:46,oldPrice:340},{id:91,oldPrice:300},{id:29,oldPrice:300},{id:24,oldPrice:200},{id:25,oldPrice:300},{id:26,oldPrice:450},{id:21,oldPrice:375},{id:13,oldPrice:350},{id:7,oldPrice:880},{id:16,oldPrice:670},{id:43,oldPrice:1500},{id:42,oldPrice:1e3},{id:17,oldPrice:35},{id:18,oldPrice:30},{id:6,oldPrice:50},{id:19,oldPrice:50},{id:92,oldPrice:60},{id:70,oldPrice:45},{id:79,oldPrice:45},{id:22,oldPrice:55},{id:73,oldPrice:30},{id:72,oldPrice:35},{id:59,oldPrice:45}].find(e=>e.id===r.id))||void 0===i?void 0:i.oldPrice;(0,m.useEffect)(()=>{!0===v&&setTimeout(()=>{b(!1),w(!0),setTimeout(()=>{w(!1)},1500)},2e3)},[v]);let S=async(e,i)=>{if(b(!0),!localStorage.getItem("userData")){null==g||g(),b(!1);return}let r=JSON.stringify({id_user_action:parseInt(JSON.parse(localStorage.getItem("userData")).userId),id_user:parseInt(JSON.parse(localStorage.getItem("userData")).userId),id_product:e,count:i});try{if(!(await fetch("".concat("https://app.fadiar.com/api","/agregar_producto_carrito"),{method:"POST",headers:{"Content-Type":"application/json"},body:r})).ok)throw Error("Failed to add item to cart");f(P+i)}catch(e){console.error("Error adding to cart:",e)}finally{b(!1),w(!0),setTimeout(()=>{w(!1)},1500)}};(0,m.useEffect)(()=>{let e=e=>{z.current&&!z.current.contains(e.target)&&y(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,m.useEffect)(()=>()=>{A.current&&clearInterval(A.current)},[]);let D=()=>{S(r.id,k),y(!1),C(1)};return(0,d.jsxs)("div",{className:"flex flex-col relative z-0 shadow-xl hover:scale-105 transition-all duration-300 rounded-b-lg overflow-hidden bg-[#022953]",children:[(0,d.jsx)(u(),{href:"/products/id?itemId=".concat(r.id),children:(0,d.jsxs)("div",{className:"flex flex-col z-0",children:[(0,d.jsxs)("div",{className:"flex relative aspect-square w-full bg-gray-50 z-10",children:[0===r.count&&(0,d.jsx)("span",{className:"absolute top-0 right-0 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded-bl z-10",children:(0,d.jsx)("span",{className:"",children:"Agotado temporalmente"})}),(0,d.jsx)(t.default,{src:"".concat("https://app.fadiar.com/api","/").concat(r.img),alt:r.name,fill:!0,className:"object-cover w-full h-full",sizes:"(max-width: 768px) 50vw, 33vw"})]}),(0,d.jsxs)("div",{className:"flex flex-col bg-[#022953] p-2 text-white rounded-t-lg -mt-2 z-10",children:[(0,d.jsx)("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis",children:r.name}),(0,d.jsxs)("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis text-sm",children:["Marca ",r.brand]}),(0,d.jsxs)("span",{children:["CU"!==n&&"USD"===r.prices[0][2]&&(0,d.jsxs)("div",{className:"flex flex-col",children:[(_||0x3b9ac9ff)>r.prices[0][1]&&_&&(0,d.jsxs)("div",{className:"flex gap-4",children:[(0,d.jsxs)("span",{className:"line-through",children:[_," USD"]}),(0,d.jsxs)("span",{className:"rounded-md bg-red-500 px-1",children:["-",(100-r.prices[0][1]/(_||0x3b9ac9ff)*100).toFixed(0),"%"]})]}),(0,d.jsxs)("span",{children:[r.prices[0][1]," USD"]})]}),"CU"!==n&&"CUP"===r.prices[0][2]&&(0,d.jsx)("div",{children:(0,d.jsxs)("span",{children:[Math.ceil(r.prices[0][1]/p[1].value*100)/100," ","USD"]})})]})]})]})}),r.count>0&&(0,d.jsx)("div",{className:"absolute bottom-2 right-2 z-20 flex flex-col items-end",children:N?(0,d.jsxs)("div",{ref:z,className:"flex items-center space-x-2 bg-white rounded-full p-1 shadow-lg",children:[(0,d.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),C(e=>Math.max(1,e-1))},className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 hover:bg-gray-200",children:(0,d.jsx)(c.A,{className:"w-4 h-4"})}),(0,d.jsx)("span",{className:"w-8 text-center font-medium",children:k}),(0,d.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),C(e=>Math.min(r.count,e+1))},className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 hover:bg-gray-200",children:(0,d.jsx)(o.A,{className:"w-4 h-4"})}),(0,d.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),D()},className:"px-3 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white hover:bg-blue-700",children:(0,d.jsx)(l.A,{className:"w-4 h-4"})})]}):(0,d.jsx)(x.$,{onClick:e=>{e.preventDefault(),e.stopPropagation(),y(!0)},className:"items-center justify-center rounded-full bg-white text-[#022953] hover:bg-gray-300 transition-all duration-300",disabled:v||j,title:"Clic para elegir cantidad",children:v?(0,d.jsx)(s.A,{className:"w-8 h-8 animate-spin"}):j?(0,d.jsx)(l.A,{className:"w-8 h-8 text-green-600"}):(0,d.jsx)(a.A,{className:"w-8 h-8"})})})]})}},5237:(e,i,r)=>{r.d(i,{_:()=>d});let d=(0,r(5453).v)((e,i)=>({amount:0,setAmount:i=>e({amount:i})}))},6313:(e,i,r)=>{r.d(i,{A:()=>u});var d=r(5155),t=r(760),s=r(1471),l=r(285),a=r(4416),c=r(306),o=r(6874),n=r.n(o);function u(e){let{isOpen:i,onClose:r}=e;return(0,d.jsx)(t.N,{children:i&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:r}),(0,d.jsx)(s.P.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm p-6 relative",children:[(0,d.jsx)("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:(0,d.jsx)(a.A,{className:"w-5 h-5"})}),(0,d.jsxs)("div",{className:"text-center space-y-4",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-[#022953] rounded-full flex items-center justify-center mx-auto",children:(0,d.jsx)(c.A,{className:"w-8 h-8 text-white"})}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("h3",{className:"text-xl font-bold text-[#022953]",children:"Inicia sesi\xf3n"}),(0,d.jsx)("p",{className:"text-gray-600 text-sm",children:"Necesitas iniciar sesi\xf3n para agregar productos al carrito"})]}),(0,d.jsx)("div",{className:"space-y-3 pt-4",children:(0,d.jsx)(n(),{href:"/login",onClick:r,children:(0,d.jsx)(l.$,{className:"w-full bg-[#022953] hover:bg-[#034078]",children:"Iniciar sesi\xf3n"})})})]})]})})]})})}},7428:(e,i,r)=>{r.d(i,{A:()=>t});var d=r(5155);function t(){return(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),(0,d.jsx)("div",{className:"text-gray-600 font-medium",children:"Cargando..."})]})})}},9434:(e,i,r)=>{r.d(i,{cn:()=>s,d:()=>a,f:()=>l});var d=r(2596),t=r(9688);function s(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];return(0,t.QP)((0,d.$)(i))}function l(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[ñ]/g,"n").replace(/[ü]/g,"u").replace(/[ç]/g,"c").replace(/[ß]/g,"ss").replace(/[æ]/g,"ae").replace(/[œ]/g,"oe").replace(/[^a-z0-9\s]/g,"").replace(/\s+/g," ").trim()}function a(e,i){let r=l(e);return l(i).includes(r)}}}]);