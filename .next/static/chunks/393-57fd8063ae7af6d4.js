"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[393],{285:(e,t,s)=>{s.d(t,{$:()=>c});var a=s(5155);s(2115);var r=s(4624),i=s(2085),n=s(9434);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:s,size:i,asChild:c=!1,...o}=e,d=c?r.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,n.cn)(l({variant:s,size:i,className:t})),...o})}},3546:(e,t,s)=>{s.d(t,{R:()=>a});let a=(0,s(5453).v)(e=>({name:"",brand:"",category:"",available:"",minPrice:0,maxPrice:1e6,setName:t=>e({name:t}),setBrand:t=>e({brand:t}),setCategory:t=>e({category:t}),setAvailable:t=>e({available:t}),setMinPrice:t=>e({minPrice:t}),setMaxPrice:t=>e({maxPrice:t})}))},4295:(e,t,s)=>{s.d(t,{A:()=>g});var a=s(5155),r=s(6766),i=s(1154),n=s(5196),l=s(7809),c=s(7712),o=s(4616),d=s(6874),u=s.n(d),x=s(285),p=s(5237),h=s(2115),m=s(1471);function g(e){let{product:t,location:s,currencies:d,oldPrice:g,onAuthRequired:f}=e,v=(0,p._)(e=>e.setAmount),{amount:b}=(0,p._)(),[j,y]=(0,h.useState)(!1),[N,w]=(0,h.useState)(!1),[k,C]=(0,h.useState)(!1),[z,A]=(0,h.useState)(1),_=(0,h.useRef)(null),S=(0,h.useRef)(null);(0,h.useRef)(0),(0,h.useEffect)(()=>{j&&setTimeout(()=>{y(!1),w(!0),setTimeout(()=>{w(!1)},1500)},2e3)},[j]);let P=async(e,t)=>{if(y(!0),!localStorage.getItem("userData")){null==f||f(),y(!1);return}let s=JSON.stringify({id_user_action:parseInt(JSON.parse(localStorage.getItem("userData")).userId),id_user:parseInt(JSON.parse(localStorage.getItem("userData")).userId),id_product:e,count:t});try{if(!(await fetch("".concat("https://app.fadiar.com/api","/agregar_producto_carrito"),{method:"POST",headers:{"Content-Type":"application/json"},body:s})).ok)throw Error("Failed to add item to cart");v(b+t)}catch(e){console.error("Error adding to cart:",e)}finally{y(!1),w(!0),setTimeout(()=>{w(!1)},1500)}};(0,h.useEffect)(()=>{let e=e=>{_.current&&!_.current.contains(e.target)&&C(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,h.useEffect)(()=>()=>{S.current&&clearInterval(S.current)},[]);let D=()=>{P(t.id,z),C(!1),A(1)};return(0,a.jsxs)("div",{className:"flex flex-col relative z-0 shadow-xl hover:scale-105 transition-all duration-300 rounded-b-lg overflow-hidden bg-[#022953]",children:[(0,a.jsx)(u(),{href:"/products/id?itemId=".concat(t.id),children:(0,a.jsxs)("div",{className:"flex flex-col z-0",children:[(0,a.jsxs)("div",{className:"flex relative aspect-square w-full bg-gray-50 z-10",children:[0===t.count&&(0,a.jsx)("span",{className:"absolute top-0 right-0 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded-bl z-10",children:(0,a.jsx)("span",{className:"",children:"Agotado temporalmente"})}),(0,a.jsx)(r.default,{src:"".concat("https://app.fadiar.com/api","/").concat(t.img),alt:t.name,fill:!0,className:"object-cover w-full h-full",sizes:"(max-width: 768px) 50vw, 33vw"})]}),(0,a.jsxs)("div",{className:"flex flex-col bg-[#022953] p-2 text-white rounded-t-lg -mt-2 z-10",children:[(0,a.jsx)("span",{className:"font-bold whitespace-nowrap overflow-hidden text-ellipsis",children:t.name}),(0,a.jsxs)("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis text-sm",children:["Marca ",t.brand]}),(0,a.jsxs)("span",{className:"".concat(t.count<=0?"hidden":""),children:["CU"!==s&&"USD"===t.prices[0][2]&&(0,a.jsxs)("div",{className:"flex flex-col",children:[(g||0x3b9ac9ff)>(t.prices[0][3]||t.prices[0][1])&&g&&(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("span",{className:"line-through",children:[g," USD"]}),(0,a.jsxs)("span",{className:"rounded-md bg-red-500 px-1",children:["-",(100-(t.prices[0][3]||t.prices[0][1])/(g||0x3b9ac9ff)*100).toFixed(0),"%"]})]}),(0,a.jsxs)("span",{children:[t.prices[0][3]||t.prices[0][1]," USD"]})]}),"CU"!==s&&"CUP"===t.prices[0][2]&&(0,a.jsx)("div",{children:(0,a.jsxs)("span",{children:[Math.ceil((t.prices[0][3]||t.prices[0][1])/d[1].value*100)/100," ","USD"]})})]})]})]})}),t.count>0&&(0,a.jsx)("div",{className:"absolute bottom-2 right-2 z-20 flex flex-col items-end",children:k?(0,a.jsxs)(m.P.div,{ref:_,initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},transition:{type:"spring",stiffness:500,damping:30},className:"flex items-center space-x-2 bg-white rounded-full p-1 shadow-lg",children:[(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),A(e=>Math.max(1,e-1))},className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 hover:bg-gray-200",children:(0,a.jsx)(c.A,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"w-8 text-center font-medium",children:z}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),A(e=>Math.min(t.count,e+1))},className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 hover:bg-gray-200",children:(0,a.jsx)(o.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),D()},className:"px-3 h-8 flex items-center justify-center rounded-full bg-blue-600 text-white hover:bg-blue-700",children:(0,a.jsx)(n.A,{className:"w-4 h-4"})})]}):(0,a.jsx)(x.$,{onClick:e=>{e.preventDefault(),e.stopPropagation(),C(!0)},className:"items-center justify-center rounded-full bg-white text-[#022953] hover:bg-gray-300 transition-all duration-300",disabled:j||N,title:"Clic para elegir cantidad",children:j?(0,a.jsx)(i.A,{className:"w-8 h-8 animate-spin"}):N?(0,a.jsx)(n.A,{className:"w-8 h-8 text-green-600"}):(0,a.jsx)(l.A,{className:"w-8 h-8"})})})]})}},5237:(e,t,s)=>{s.d(t,{_:()=>a});let a=(0,s(5453).v)((e,t)=>({amount:0,setAmount:t=>e({amount:t})}))},6313:(e,t,s)=>{s.d(t,{A:()=>u});var a=s(5155),r=s(760),i=s(1471),n=s(285),l=s(4416),c=s(306),o=s(6874),d=s.n(o);function u(e){let{isOpen:t,onClose:s}=e;return(0,a.jsx)(r.N,{children:t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:s}),(0,a.jsx)(i.P.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-sm p-6 relative",children:[(0,a.jsx)("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(l.A,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-[#022953] rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(c.A,{className:"w-8 h-8 text-white"})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-[#022953]",children:"Inicia sesi\xf3n"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Necesitas iniciar sesi\xf3n para agregar productos al carrito"})]}),(0,a.jsx)("div",{className:"space-y-3 pt-4",children:(0,a.jsx)(d(),{href:"/login",onClick:s,children:(0,a.jsx)(n.$,{className:"w-full bg-[#022953] hover:bg-[#034078]",children:"Iniciar sesi\xf3n"})})})]})]})})]})})}},7428:(e,t,s)=>{s.d(t,{A:()=>r});var a=s(5155);function r(){return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("div",{className:"text-gray-600 font-medium",children:"Cargando..."})]})})}},9434:(e,t,s)=>{s.d(t,{cn:()=>i,d:()=>l,f:()=>n});var a=s(2596),r=s(9688);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}function n(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[ñ]/g,"n").replace(/[ü]/g,"u").replace(/[ç]/g,"c").replace(/[ß]/g,"ss").replace(/[æ]/g,"ae").replace(/[œ]/g,"oe").replace(/[^a-z0-9\s]/g,"").replace(/\s+/g," ").trim()}function l(e,t){let s=n(e);return n(t).includes(s)}}}]);