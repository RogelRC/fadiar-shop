{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/fadiar-shop/src/components/FinalCartItem.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Minus, Plus, Trash2 } from \"lucide-react\";\r\nimport { useState, useEffect, useMemo } from \"react\";\r\nimport Image from \"next/image\";\r\nimport { useCart } from \"@/store/Cart\";\r\n\r\nexport default function FinalCartItem({\r\n  item,\r\n  location,\r\n  currencies,\r\n  onTotalChange, // Nuevo prop\r\n}: {\r\n  item: any;\r\n  location: string;\r\n  currencies: any[];\r\n  onTotalChange?: (total: number) => void; // Tipo del callback\r\n}) {\r\n  const [quantity, setQuantity] = useState(item.en_carrito);\r\n  const [visible, setVisible] = useState(true);\r\n  const [prevQuantity, setPrevQuantity] = useState(item.en_carrito);\r\n  const [buttonDisable, setButtonDisabled] = useState(false);\r\n  const setAmount = useCart((state) => state.setAmount);\r\n  const { amount } = useCart();\r\n\r\n  const price = useMemo(() => {\r\n    let calculatedPrice = 0;\r\n    if (location === \"CU\" && item.prices[0][2] === \"CUP\") {\r\n      calculatedPrice = item.prices[0][1];\r\n    } else if (location !== \"CU\" && item.prices[0][2] === \"USD\") {\r\n      calculatedPrice = item.prices[0][1];\r\n    } else if (location === \"CU\" && item.prices[0][2] === \"USD\") {\r\n      calculatedPrice = item.prices[0][1] * currencies[1]?.value || 0;\r\n    } else if (location !== \"CU\" && item.prices[0][2] === \"CUP\") {\r\n      calculatedPrice =\r\n        Math.ceil((item.prices[0][1] / currencies[1]?.value) * 100) / 100 || 0;\r\n    }\r\n    return calculatedPrice;\r\n  }, [location, currencies, item.prices]);\r\n\r\n  // Efecto para notificar cambios en el total\r\n  useEffect(() => {\r\n    if (onTotalChange) {\r\n      const total = price * quantity;\r\n      onTotalChange(total);\r\n    }\r\n  }, [quantity]);\r\n\r\n  useEffect(() => {\r\n    const updateCart = async () => {\r\n      try {\r\n        const body = JSON.stringify({\r\n          id_user_action:\r\n            JSON.parse(localStorage.getItem(\"userData\") || \"{}\").userId || null,\r\n          id_user:\r\n            JSON.parse(localStorage.getItem(\"userData\") || \"{}\").userId || null,\r\n          id_product: item.id,\r\n          newCount: quantity,\r\n        });\r\n\r\n        const response = await fetch(\r\n          `${process.env.NEXT_PUBLIC_API_URL}/modificar_cantidad_producto_carrito`,\r\n          {\r\n            method: \"POST\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n            body,\r\n          },\r\n        );\r\n\r\n        if (!response.ok) {\r\n          setQuantity(prevQuantity);\r\n          throw new Error(\"Error al actualizar el carrito\");\r\n        }\r\n\r\n        console.log(await response.json());\r\n\r\n        setPrevQuantity(quantity);\r\n      } catch (error) {\r\n        console.error(\"Error actualizando el carrito:\", error);\r\n      }\r\n    };\r\n\r\n    const deleteItem = async () => {\r\n      try {\r\n        const body = JSON.stringify({\r\n          id_user_action:\r\n            JSON.parse(localStorage.getItem(\"userData\") || \"{}\").userId || null,\r\n          id_user:\r\n            JSON.parse(localStorage.getItem(\"userData\") || \"{}\").userId || null,\r\n          id_product: item.id,\r\n        });\r\n        const response = await fetch(\r\n          `${process.env.NEXT_PUBLIC_API_URL}/eliminar_producto_carrito`,\r\n          {\r\n            method: \"POST\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n            body,\r\n          },\r\n        );\r\n        if (!response.ok) {\r\n          throw new Error(\"Error al eliminar el item del carrito\");\r\n        }\r\n        window.dispatchEvent(new Event(\"cartDataChanged\"));\r\n      } catch (error) {\r\n        console.error(\"Error eliminando el item del carrito:\", error);\r\n      }\r\n    };\r\n\r\n    quantity > 0 ? updateCart() : deleteItem();\r\n  }, [quantity]);\r\n\r\n  function handleSetQuantity(q: number) {\r\n    if (q == quantity - 1) {\r\n      setAmount(amount - 1);\r\n    } else if (q == quantity + 1) {\r\n      setAmount(amount + 1);\r\n    }\r\n\r\n    setQuantity(q);\r\n    if (q <= 0) setVisible(false);\r\n    setButtonDisabled(true);\r\n    setTimeout(() => {\r\n      setButtonDisabled(false);\r\n    }, 3000); // Habilitar nuevamente después de 3 segundos\r\n  }\r\n\r\n  // Función para eliminar directamente el producto del carrito\r\n  const handleDeleteItem = async () => {\r\n    try {\r\n      setButtonDisabled(true);\r\n      \r\n      const body = JSON.stringify({\r\n        id_user_action:\r\n          JSON.parse(localStorage.getItem(\"userData\") || \"{}\").userId || null,\r\n        id_user:\r\n          JSON.parse(localStorage.getItem(\"userData\") || \"{}\").userId || null,\r\n        id_product: item.id,\r\n      });\r\n\r\n      const response = await fetch(\r\n        `${process.env.NEXT_PUBLIC_API_URL}/eliminar_producto_carrito`,\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body,\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Error al eliminar el producto del carrito\");\r\n      }\r\n\r\n      // Actualizar el total a pagar\r\n      if (onTotalChange) {\r\n        onTotalChange(0); // El producto se eliminó, su contribución al total es 0\r\n      }\r\n\r\n      // Actualizar la cantidad en el store\r\n      setAmount(amount - quantity);\r\n\r\n      // Ocultar el componente\r\n      setVisible(false);\r\n\r\n      // Disparar evento para actualizar el carrito\r\n      window.dispatchEvent(new Event(\"cartDataChanged\"));\r\n\r\n      console.log(\"Producto eliminado exitosamente\");\r\n    } catch (error) {\r\n      console.error(\"Error eliminando el producto del carrito:\", error);\r\n    } finally {\r\n      setButtonDisabled(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {visible && (\r\n        <div className=\"flex w-full h-28 bg-white\">\r\n          <div className=\"flex-shrink-0 h-full aspect-square overflow-hidden p-1\">\r\n            <Image\r\n              src={`${process.env.NEXT_PUBLIC_API_URL}/${item.img}`}\r\n              alt={item.name}\r\n              width={200}\r\n              height={200}\r\n              className=\"w-full h-full object-cover\"\r\n            />\r\n          </div>\r\n          <div className=\"flex flex-col w-full max-w-full text-sm p-2 text-[#9f9f9f]\">\r\n            <span className=\"flex w-full font-semibold\">{item.name}</span>\r\n            <span className=\"flex w-full text-sm\">Marca {item.brand}</span>\r\n            <div className=\"flex flex-1\">\r\n              <span className=\"flex font-bold mt-auto text-[#022953]\">\r\n                {location === \"CU\" && item.prices[0][2] === \"CUP\" && (\r\n                  <>{item.prices[0][1]} CUP</>\r\n                )}\r\n                {location !== \"CU\" && item.prices[0][2] === \"USD\" && (\r\n                  <>{item.prices[0][1]} USD</>\r\n                )}\r\n                {location === \"CU\" && item.prices[0][2] === \"USD\" && (\r\n                  <>{item.prices[0][1] * currencies[1].value} CUP</>\r\n                )}\r\n                {location !== \"CU\" && item.prices[0][2] === \"CUP\" && (\r\n                  <>\r\n                    {Math.ceil(\r\n                      (item.prices[0][1] / currencies[1].value) * 100,\r\n                    ) / 100}{\" \"}\r\n                    USD\r\n                  </>\r\n                )}\r\n              </span>\r\n\r\n              <div className=\"flex ml-auto items-end\">\r\n                <div className=\"flex items-center gap-1 mr-2\">\r\n                  <button\r\n                    onClick={() => handleSetQuantity(quantity - 1)}\r\n                    className={`text-[#022953] rounded-sm transition-all duration-300 ${buttonDisable === false ? \"hover:text-white hover:bg-[#022953]\" : \"cursor-wait\"}`}\r\n                    disabled={buttonDisable}\r\n                  >\r\n                    <Minus />\r\n                  </button>\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"flex w-16 border-gray-300 border-2 rounded-sm text-[#022953] text-center\"\r\n                    value={quantity}\r\n                    onChange={() => handleSetQuantity(quantity)}\r\n                    disabled={true}\r\n                  />\r\n                  <button\r\n                    onClick={() => handleSetQuantity(quantity + 1)}\r\n                    className={`text-[#022953] rounded-sm transition-all duration-300 ${buttonDisable === false ? \"hover:text-white hover:bg-[#022953]\" : \"cursor-wait\"}`}\r\n                    disabled={buttonDisable}\r\n                  >\r\n                    <Plus />\r\n                  </button>\r\n                </div>\r\n                <button\r\n                  onClick={handleDeleteItem}\r\n                  className={`text-red-500 hover:text-red-600 rounded-sm transition-all duration-300 p-1 ${buttonDisable === false ? \"hover:bg-red-50\" : \"cursor-wait\"}`}\r\n                  disabled={buttonDisable}\r\n                  title=\"Eliminar producto\"\r\n                >\r\n                  <Trash2 size={14} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 365, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/fadiar-shop/src/app/checkout/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport FinalCartItem from \"@/components/FinalCartItem\";\nimport { UserRound, Check, X } from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport { useCart } from \"@/store/Cart\";\n\n// Type definitions\ninterface Address {\n  id: number;\n  provincia: string;\n  municipio: string;\n  direccion: string;\n}\n\ninterface FormData {\n  provincia: string;\n  municipio: string;\n  direccionExacta: string;\n  phone: string;\n  ci_cliente: string;\n  saveAddress: boolean;\n}\n\ninterface Validation {\n  address: boolean;\n  provincia: boolean;\n  municipio: boolean;\n  direccionExacta: boolean;\n  phone: boolean;\n  ci_cliente: boolean;\n}\n\nconst provinciasCuba = {\n  \"Pinar del Río\": [\n    \"Pinar del Río\",\n    \"Consolación del Sur\",\n    \"Guane\",\n    \"La Palma\",\n    \"Los Palacios\",\n    \"Mantua\",\n    \"Minas de Matahambre\",\n    \"San Juan y Martínez\",\n    \"San Luis\",\n    \"Sandino\",\n    \"Viñales\",\n  ],\n  Artemisa: [\n    \"Artemisa\",\n    \"Alquízar\",\n    \"Bauta\",\n    \"Caimito\",\n    \"Guanajay\",\n    \"Güira de Melena\",\n    \"Mariel\",\n    \"San Antonio de los Baños\",\n    \"Bahía Honda\",\n    \"Candelaria\",\n    \"San Cristóbal\",\n  ],\n  \"La Habana\": [\n    \"Arroyo Naranjo\",\n    \"Boyeros\",\n    \"Centro Habana\",\n    \"Cerro\",\n    \"Cotorro\",\n    \"Diez de Octubre\",\n    \"Guanabacoa\",\n    \"Habana del Este\",\n    \"Habana Vieja\",\n    \"La Lisa\",\n    \"Marianao\",\n    \"Playa\",\n    \"Plaza de la Revolución\",\n    \"Regla\",\n    \"San Miguel del Padrón\",\n  ],\n  Mayabeque: [\n    \"Batabanó\",\n    \"Bejucal\",\n    \"Güines\",\n    \"Jaruco\",\n    \"Madruga\",\n    \"Melena del Sur\",\n    \"Nueva Paz\",\n    \"Quivicán\",\n    \"San José de las Lajas\",\n    \"Santa Cruz del Norte\",\n  ],\n  Matanzas: [\n    \"Cárdenas\",\n    \"Ciénaga de Zapata\",\n    \"Colón\",\n    \"Jagüey Grande\",\n    \"Jovellanos\",\n    \"Limonar\",\n    \"Los Arabos\",\n    \"Martí\",\n    \"Matanzas\",\n    \"Pedro Betancourt\",\n    \"Perico\",\n    \"Unión de Reyes\",\n  ],\n  Cienfuegos: [\n    \"Aguada de Pasajeros\",\n    \"Cienfuegos\",\n    \"Cruces\",\n    \"Cumanayagua\",\n    \"Lajas\",\n    \"Palmira\",\n    \"Rodas\",\n  ],\n  \"Villa Clara\": [\n    \"Caibarién\",\n    \"Camajuaní\",\n    \"Cifuentes\",\n    \"Corralillo\",\n    \"Encrucijada\",\n    \"Manicaragua\",\n    \"Placetas\",\n    \"Quemado de Güines\",\n    \"Ranchuelo\",\n    \"Remedios\",\n    \"Sagua la Grande\",\n    \"Santa Clara\",\n    \"Santo Domingo\",\n  ],\n  \"Sancti Spíritus\": [\n    \"Cabaiguán\",\n    \"Fomento\",\n    \"Jatibonico\",\n    \"La Sierpe\",\n    \"Sancti Spíritus\",\n    \"Taguasco\",\n    \"Trinidad\",\n    \"Yaguajay\",\n  ],\n  \"Ciego de Ávila\": [\n    \"Baraguá\",\n    \"Bolivia\",\n    \"Ciego de Ávila\",\n    \"Chambas\",\n    \"Ciro Redondo\",\n    \"Florencia\",\n    \"Majagua\",\n    \"Morón\",\n    \"Primero de Enero\",\n    \"Venezuela\",\n  ],\n  Camagüey: [\n    \"Camagüey\",\n    \"Carlos Manuel de Céspedes\",\n    \"Esmeralda\",\n    \"Florida\",\n    \"Guaimaro\",\n    \"Jimaguayú\",\n    \"Minas\",\n    \"Najasa\",\n    \"Nuevitas\",\n    \"Santa Cruz del Sur\",\n    \"Sibanicú\",\n    \"Sierra de Cubitas\",\n    \"Vertientes\",\n  ],\n  \"Las Tunas\": [\n    \"Amancio\",\n    \"Colombia\",\n    \"Jesús Menéndez\",\n    \"Jobabo\",\n    \"Las Tunas\",\n    \"Majibacoa\",\n    \"Manatí\",\n    \"Puerto Padre\",\n  ],\n  Holguín: [\n    \"Antilla\",\n    \"Báguanos\",\n    \"Banes\",\n    \"Cacocum\",\n    \"Calixto García\",\n    \"Cueto\",\n    \"Frank País\",\n    \"Gibara\",\n    \"Holguín\",\n    \"Mayarí\",\n    \"Moa\",\n    \"Rafael Freyre\",\n    \"Sagua de Tánamo\",\n    \"Urbano Noris\",\n  ],\n  Granma: [\n    \"Bartolomé Masó\",\n    \"Bayamo\",\n    \"Buey Arriba\",\n    \"Campechuela\",\n    \"Cauto Cristo\",\n    \"Guisa\",\n    \"Jiguaní\",\n    \"Manzanillo\",\n    \"Media Luna\",\n    \"Niquero\",\n    \"Pilón\",\n    \"Río Cauto\",\n    \"Yara\",\n  ],\n  \"Santiago de Cuba\": [\n    \"Contramaestre\",\n    \"Guamá\",\n    \"Mella\",\n    \"Palma Soriano\",\n    \"San Luis\",\n    \"Santiago de Cuba\",\n    \"Segundo Frente\",\n    \"Songo - La Maya\",\n    \"Tercer Frente\",\n  ],\n  Guantánamo: [\n    \"Baracoa\",\n    \"Caimanera\",\n    \"El Salvador\",\n    \"Guantánamo\",\n    \"Imías\",\n    \"Maisí\",\n    \"Manuel Tames\",\n    \"Niceto Pérez\",\n    \"San Antonio del Sur\",\n    \"Yateras\",\n  ],\n  \"Isla de la Juventud\": [\"Isla de la Juventud\"],\n};\n\nasync function fetchCartItems(userData: any) {\n  if (!userData) {\n    console.log(\"No tengo datos\");\n    return {};\n  }\n\n  try {\n    const body = JSON.stringify({\n      id_user_action: userData.userId,\n      id_user: userData.userId,\n      comisiones: false,\n    });\n\n    const response = await fetch(\n      `${process.env.NEXT_PUBLIC_API_URL}/obtener_productos_carrito`,\n      {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: body,\n      },\n    );\n\n    if (!response.ok) {\n      throw new Error(\"Error al cargar el carrito\");\n    }\n\n    const data = await response.json();\n    console.log(data);\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nasync function getLocation() {\n  try {\n    const res = await fetch(\"https://app.fadiar.com/api/get_location\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({}),\n    });\n    const data = await res.json();\n    return !data.country || data.country === \"Cuba\" ? \"CU\" : \"US\";\n  } catch (error) {\n    console.error(\"Error obteniendo la ubicación:\", error);\n    return \"US\";\n  }\n}\n\nexport default function CheckoutPage() {\n  const router = useRouter();\n  const setAmount = useCart((state) => state.setAmount);\n\n  // State for cart and UI\n  const [cartItems, setCartItems] = useState<any[] | null>(null); // null means loading, [] means loaded but empty\n  const [currencies, setCurrencies] = useState<any[]>([]); // Estado para almacenar la moneda actual\n  const [location, setLocation] = useState<string>(\"US\");\n  const [itemTotals, setItemTotals] = useState<{ [key: string]: number }>({});\n  const [delivery, setDelivery] = useState(0);\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [tried, setTried] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  // Address state\n  const [savedAddresses, setSavedAddresses] = useState<Address[]>([]);\n  const [useSavedAddress, setUseSavedAddress] = useState(false);\n  const [selectedAddressId, setSelectedAddressId] = useState<string>(\"\");\n  const [isLoadingAddresses, setIsLoadingAddresses] = useState(true);\n\n  // Form state\n  const [formData, setFormData] = useState<FormData>({\n    provincia: \"\",\n    municipio: \"\",\n    direccionExacta: \"\",\n    phone: \"\",\n    ci_cliente: \"\",\n    saveAddress: false\n  });\n\n  // Form validation state\n  const [validation, setValidation] = useState<Validation>({\n    address: true,\n    provincia: false,\n    municipio: false,\n    direccionExacta: false,\n    phone: false,\n    ci_cliente: false\n  });\n\n  const [progress, setProgress] = useState(0);\n\n  // Calculate subtotal using itemTotals\n  const subtotal = Object.values(itemTotals).reduce(\n    (acc, curr) => acc + curr,\n    0,\n  );\n\n  // Add delivery fee if delivery is selected\n  const deliveryFee = delivery === 1 ? 5 : 0;\n  const grandTotal = subtotal + deliveryFee;\n\n  // Uncheck delivery if province is changed to something other than Havana\n  useEffect(() => {\n    if (formData.provincia !== 'La Habana' && delivery === 1) {\n      setDelivery(0);\n      setIsExpanded(false);\n    }\n  }, [formData.provincia, delivery]);\n\n  // Update validation and progress\n  useEffect(() => {\n    const addressValid = useSavedAddress \n      ? !!selectedAddressId\n      : formData.provincia.trim() !== \"\" && \n        formData.municipio.trim() !== \"\" && \n        (delivery === 0 || formData.direccionExacta.trim() !== \"\");\n    \n    const newValidation = {\n      address: addressValid,\n      phone: /^\\+?[0-9\\s-]{8,}$/.test(formData.phone), // At least 8 digits, country code optional\n      ci_cliente: /^\\d{11}$/.test(formData.ci_cliente), // Exactly 11 digits\n      ...(!useSavedAddress && {\n        provincia: formData.provincia.trim() !== \"\",\n        municipio: formData.municipio.trim() !== \"\",\n        ...(delivery === 1 && {\n          direccionExacta: formData.direccionExacta.trim() !== \"\"\n        })\n      })\n    };\n\n    setValidation(prev => ({\n      ...prev,\n      ...newValidation\n    }));\n\n    // Calculate progress\n    const requiredFields = 3 + (delivery === 1 && !useSavedAddress ? 2 : 0); // Base fields + address fields if needed\n    const validFields = Object.values(newValidation).filter(Boolean).length;\n    const calculatedProgress = Math.min(100, (validFields / requiredFields) * 100);\n    setProgress(calculatedProgress);\n  }, [formData, delivery, useSavedAddress, selectedAddressId]);\n\n  // Save a new address\n  const saveAddress = async (addressData: any) => {\n    try {\n      const userData = JSON.parse(localStorage.getItem(\"userData\") || \"{}\");\n      if (!userData?.userId) return;\n      \n      const response = await fetch(\n        `${process.env.NEXT_PUBLIC_API_URL}/crear-direccion-domicilio-cliente`,\n        {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            id_user: userData.userId,\n            ...addressData\n          }),\n        }\n      );\n      \n      if (response.ok) {\n        const newAddress = await response.json();\n        setSavedAddresses(prev => [...prev, newAddress]);\n        return newAddress;\n      }\n    } catch (error) {\n      console.error(\"Error saving address:\", error);\n    }\n    return null;\n  };\n\n  const handleSubmit = async () => {\n    setTried(true);\n\n    // Check if using saved address or new address\n    let addressValid = true;\n    let addressToUse = null;\n    \n    if (useSavedAddress) {\n      addressValid = !!selectedAddressId;\n      addressToUse = savedAddresses.find(addr => addr.id.toString() === selectedAddressId);\n    } else {\n      addressValid = formData.provincia.trim() !== \"\" &&\n                   formData.municipio.trim() !== \"\" &&\n                   (delivery === 0 || formData.direccionExacta.trim() !== \"\");\n    }\n\n    // Check all required fields\n    const isFormValid =\n      addressValid &&\n      formData.phone.trim() !== \"\" &&\n      /^\\d{11}$/.test(formData.ci_cliente);\n\n    if (!isFormValid) {\n      setError(\"Por favor llene todos los campos obligatorios correctamente\");\n      return;\n    }\n\n    setError(\"\");\n    \n    // Save new address if needed\n    if (!useSavedAddress && formData.saveAddress) {\n      const addressData = {\n        provincia: formData.provincia,\n        municipio: formData.municipio,\n        direccion: formData.direccionExacta\n      };\n      await saveAddress(addressData);\n    }\n\n    try {\n      const userData =\n        typeof window !== \"undefined\"\n          ? JSON.parse(localStorage.getItem(\"userData\") || \"{}\")\n          : {};\n\n      // Get user details from userData\n      const name = userData.name || \"\";\n      const apellidos_cliente = `${userData.last1 || \"\"} ${userData.last2 || \"\"}`.trim();\n\n      const orderData = {\n        ...formData,\n        name_cliente: name,\n        last_names: apellidos_cliente,\n        cellphone_cliente: formData.phone,\n        id_user_action: userData.userId,\n        id_user: userData.userId,\n        gestor_id: userData.userId,\n        delivery,\n        total: grandTotal,\n        location,\n        items: cartItems?.map((item) => ({\n          id_product: item.id,\n          count: item.count,\n          price: item.prices[0][1],\n          currency: item.prices[0][2],\n        })),\n      };\n\n      console.log(orderData)\n\n      const response = await fetch(\n        `${process.env.NEXT_PUBLIC_API_URL}/add_order`,\n        {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(orderData),\n        },\n      );\n\n      const data = await response.json();\n\n      console.log('API Response:', data); // Log the full response\n\n      if (!response.ok) {\n        setError(data.message || \"Error al comprar\");\n        return; // Exit early if there's an error\n      }\n\n      if (!data || !data.order || !data.order.date) {\n        console.error('Unexpected API response structure:', data);\n        setError(\"Formato de respuesta inesperado del servidor\");\n        return;\n      }\n\n      setAmount(0);\n\n      const orderParams = new URLSearchParams({\n        date: data.order.date,\n        ...(formData.direccionExacta && {\n          direccionExacta: `${formData.direccionExacta}, ${formData.municipio}, ${formData.provincia}`,\n        }),\n        price: grandTotal.toFixed(2),\n        currency: \"USD\",\n      }).toString();\n\n      router.push(`/checkout/ticket?${orderParams}`);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Error desconocido\");\n    }\n  };\n\n  const handleTotalChange = (itemId: number, total: number) => {\n    setItemTotals((prev) => ({\n      ...prev,\n      [itemId]: total,\n    }));\n  };\n  if (cartItems === null) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-white\">\n        <div className=\"text-center\">\n          <div className=\"w-12 h-12 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4\"></div>\n          <div className=\"text-gray-600 font-medium\">Cargando tu carrito...</div>\n        </div>\n      </div>\n    );\n  }\n\n  if (cartItems.length === 0) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-[calc(100vh-88px)] p-4 bg-white\">\n        <div className=\"text-center max-w-md p-8 bg-[#f4f4f4] rounded-lg shadow-lg\">\n          <h1 className=\"text-2xl font-bold text-[#022953] mb-4\">Tu carrito está vacío</h1>\n          <p className=\"text-gray-600 mb-6\">Aún no has agregado productos a tu carrito. Comienza a explorar nuestros productos y encuentra lo que necesitas.</p>\n          <button\n            onClick={() => router.push('/products')}\n            className=\"w-full bg-[#022953] text-white font-bold py-3 px-6 rounded hover:bg-opacity-90 transition-colors\"\n          >\n            Ver productos\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex h-full w-full min-h-[calc(100vh-88px)] justify-center p-4 bg-white\">\n      <div className=\"flex flex-col bg-[#f4f4f4] w-120 md:w-1/2 sm:w-2/3 rounded-lg shadow-lg sm:p-10 p-4 gap-4 sm:gap-6\">\n      <div className=\"w-full\">\n        <h1 className=\"flex font-bold text-xl sm:text-3xl text-[#022953] w-full sm:justify-start justify-center mb-6\">\n          Resumen del carrito\n        </h1>\n      </div>\n      <div className=\"flex flex-col gap-4 sm:gap-6\">\n        {cartItems.map((item) => (\n          <FinalCartItem\n            key={item.id}\n            location={location}\n            item={item}\n            currencies={currencies}\n            onTotalChange={(total) => handleTotalChange(item.id, total)}\n          />\n        ))}\n      </div>\n      <div className=\"flex flex-col w-full gap-2 mt-6\">\n        <div className=\"flex w-full items-center\">\n          <span className=\"flex text-[#9a9a9a]\">Subtotal</span>\n          <span className=\"flex ml-auto text-[#022953] text-lg\">\n            {subtotal.toFixed(2)} {location === \"CU\" ? \"CUP\" : \"USD\"}\n          </span>\n        </div>\n        {delivery === 1 && (\n          <div className=\"flex w-full items-center\">\n            <div className=\"flex flex-col\">\n              <span className=\"text-[#9a9a9a]\">Entrega a domicilio</span>\n              <span className=\"text-xs text-gray-500\">*El precio puede variar según la distancia. Nos pondremos en contacto con usted.</span>\n            </div>\n            <span className=\"flex ml-auto text-[#022953] text-lg\">\n              +{deliveryFee.toFixed(2)} {location === \"CU\" ? \"CUP\" : \"USD\"}\n            </span>\n          </div>\n        )}\n        <div className=\"flex w-full items-center pt-2 border-t border-gray-200 mt-2\">\n          <span className=\"flex text-[#9a9a9a] font-bold\">Total a pagar</span>\n          <span className=\"flex ml-auto text-[#022953] text-2xl font-bold\">\n            {grandTotal.toFixed(2)} {location === \"CU\" ? \"CUP\" : \"USD\"}\n          </span>\n        </div>\n      </div>\n      <hr className=\"flex h-px border-[#9a9a9a] w-full\" />\n      <div className=\"flex flex-col gap-4\">\n        <div className=\"flex flex-col gap-2\">\n          <span className=\"flex text-[#9a9a9a]\">Tú</span>\n          <div className=\"flex items-center gap-4\">\n            <div className=\"flex rounded-full bg-[#9a9a9a] w-12 h-12 items-center justify-center text-white p-1\">\n              <UserRound className=\"flex w-full h-full\" />\n            </div>\n            <span className=\"flex text-[#9a9a9a]\">\n              {typeof window !== \"undefined\"\n                ? `${JSON.parse(localStorage.getItem(\"userData\") || \"{}\").name || \"\"} ${JSON.parse(localStorage.getItem(\"userData\") || \"{}\").last1 || \"\"} ${JSON.parse(localStorage.getItem(\"userData\") || \"{}\").last2 || \"\"}`\n                : \"\"}\n            </span>\n          </div>\n        </div>\n\n        {/* Address Section */}\n        <div className=\"bg-white rounded-lg p-4 shadow\">\n          <h2 className=\"text-lg font-semibold mb-4\">Dirección de envío</h2>\n          \n          {savedAddresses.length > 0 && (\n            <div className=\"mb-4\">\n              <div className=\"flex items-center mb-2\">\n                <input\n                  type=\"checkbox\"\n                  id=\"useSavedAddress\"\n                  checked={useSavedAddress}\n                  onChange={(e) => {\n                    setUseSavedAddress(e.target.checked);\n                    if (!e.target.checked) {\n                      setSelectedAddressId(\"\");\n                    }\n                  }}\n                  className=\"h-4 w-4 text-[#022953] focus:ring-[#022953] border-gray-300 rounded\"\n                />\n                <label htmlFor=\"useSavedAddress\" className=\"ml-2 block text-gray-700\">\n                  Usar una dirección guardada\n                </label>\n              </div>\n              \n              {useSavedAddress && (\n                <select\n                  value={selectedAddressId}\n                  onChange={(e) => setSelectedAddressId(e.target.value)}\n                  className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#022953]\"\n                >\n                  <option value=\"\">Seleccione una dirección guardada</option>\n                  {savedAddresses.map((address) => (\n                    <option key={address.id} value={address.id}>\n                      {`${address.direccion}, ${address.municipio}, ${address.provincia}`}\n                    </option>\n                  ))}\n                </select>\n              )}\n            </div>\n          )}\n          \n          {(!useSavedAddress || savedAddresses.length === 0) && (\n            <>\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Provincia *\n                </label>\n                <select\n                  name=\"provincia\"\n                  value={formData.provincia}\n                  onChange={(e) => {\n                    setFormData(prev => ({\n                      ...prev,\n                      provincia: e.target.value,\n                      municipio: \"\"\n                    }));\n                  }}\n                  className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#022953]\"\n                  required\n                >\n                  <option value=\"\">Seleccione una provincia</option>\n                  {Object.keys(provinciasCuba).map((provincia) => (\n                    <option key={provincia} value={provincia}>\n                      {provincia}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              \n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Municipio *\n                </label>\n                <select\n                  name=\"municipio\"\n                  value={formData.municipio}\n                  onChange={(e) => {\n                    setFormData(prev => ({\n                      ...prev,\n                      municipio: e.target.value\n                    }));\n                  }}\n                  className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#022953]\"\n                  disabled={!formData.provincia}\n                  required\n                >\n                  <option value=\"\">Seleccione un municipio</option>\n                  {formData.provincia &&\n                    provinciasCuba[formData.provincia as keyof typeof provinciasCuba]?.map((municipio) => (\n                      <option key={municipio} value={municipio}>\n                        {municipio}\n                      </option>\n                    ))}\n                </select>\n              </div>\n              \n              {delivery === 1 && (\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Dirección exacta *\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"direccionExacta\"\n                    value={formData.direccionExacta}\n                    onChange={(e) => {\n                      setFormData(prev => ({\n                        ...prev,\n                        direccionExacta: e.target.value\n                      }));\n                    }}\n                    className=\"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#022953]\"\n                    placeholder=\"Calle, número, entre calles, etc.\"\n                    required\n                  />\n                </div>\n              )}\n              \n              <div className=\"flex items-center mb-4\">\n                <input\n                  type=\"checkbox\"\n                  id=\"saveAddress\"\n                  checked={formData.saveAddress}\n                  onChange={(e) => {\n                    setFormData(prev => ({\n                      ...prev,\n                      saveAddress: e.target.checked\n                    }));\n                  }}\n                  className=\"h-4 w-4 text-[#022953] focus:ring-[#022953] border-gray-300 rounded\"\n                />\n                <label htmlFor=\"saveAddress\" className=\"ml-2 block text-sm text-gray-700\">\n                  Guardar esta dirección para futuras compras\n                </label>\n              </div>\n            </>\n          )}\n        </div>\n\n        {/* Contact Information */}\n        <div className=\"bg-white rounded-lg p-4 shadow\">\n          <h2 className=\"text-lg font-semibold mb-4\">Información de contacto</h2>\n          <div className=\"flex flex-col gap-2\">\n            <label className=\"text-[#9a9a9a]\">\n              Número de teléfono del receptor\n            </label>\n            <div className=\"relative\">\n              <input\n                type=\"tel\"\n                value={formData.phone}\n                onChange={(e) => {\n                  const value = e.target.value.replace(/[^0-9+\\s-]/g, '');\n                  setFormData({ ...formData, phone: value });\n                }}\n                placeholder=\"Ej: 55555555 o +53 55555555\"\n                className={`w-full p-2 rounded-md border ${\n                  tried && !validation.phone && formData.phone\n                    ? 'border-red-500'\n                    : 'border-gray-300'\n                } ${formData.phone ? (validation.phone ? 'border-green-500' : 'border-red-500') : ''}`}\n                required\n              />\n              {formData.phone && (\n                <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\n                  {validation.phone ? (\n                    <Check className=\"h-5 w-5 text-green-500\" />\n                  ) : (\n                    <X className=\"h-5 w-5 text-red-500\" />\n                  )}\n                </div>\n              )}\n            </div>\n            {tried && !validation.phone && formData.phone && (\n              <p className=\"text-red-500 text-sm\">\n                Por favor ingrese un número de teléfono válido\n              </p>\n            )}\n          </div>\n        </div>\n        <div className=\"flex flex-col gap-4\">\n          <div className=\"flex flex-col gap-2\">\n            <label className=\"text-[#9a9a9a]\">Carnet de identidad del receptor</label>\n            <div className=\"relative\">\n              <input\n                type=\"text\"\n                value={formData.ci_cliente || ''}\n                onChange={(e) => {\n                  const value = e.target.value.replace(/[^0-9A-Za-z]/g, '').toUpperCase();\n                  setFormData({ ...formData, ci_cliente: value });\n                }}\n                placeholder=\"Ej: 12345678901\"\n                className={`w-full p-2 rounded-md border ${\n                  tried && !validation.ci_cliente && formData.ci_cliente\n                    ? 'border-red-500'\n                    : 'border-gray-300'\n                } ${\n                  formData.ci_cliente ? (validation.ci_cliente ? 'border-green-500' : 'border-red-500') : ''\n                }`}\n                required\n              />\n              {formData.ci_cliente && (\n                <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\n                  {validation.ci_cliente ? (\n                    <Check className=\"h-5 w-5 text-green-500\" />\n                  ) : (\n                    <X className=\"h-5 w-5 text-red-500\" />\n                  )}\n                </div>\n              )}\n            </div>\n            {tried && !validation.ci_cliente && formData.ci_cliente && (\n              <p className=\"text-red-500 text-sm\">\n                Por favor ingrese un carnet de identidad válido\n              </p>\n            )}\n          </div>\n          <div className=\"flex flex-col gap-2\">\n            <label className=\"text-[#9a9a9a]\">Provincia</label>\n            <div className=\"relative\">\n              <select\n                value={formData.provincia}\n                onChange={(e) =>\n                  setFormData({\n                    ...formData,\n                    provincia: e.target.value,\n                    municipio: \"\",\n                  })\n                }\n                className={`w-full p-2 rounded-md border ${\n                  formData.provincia ? 'border-green-500' : 'border-gray-300'\n                }`}\n              >\n                <option value=\"\">Seleccione una provincia</option>\n                {Object.keys(provinciasCuba).map((provincia) => (\n                  <option key={provincia} value={provincia}>\n                    {provincia}\n                  </option>\n                ))}\n              </select>\n              {formData.provincia && (\n                <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\n                  <Check className=\"h-5 w-5 text-green-500\" />\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"flex flex-col gap-2\">\n            <label className=\"text-[#9a9a9a]\">Municipio</label>\n            <div className=\"relative\">\n              <select\n                value={formData.municipio}\n                onChange={(e) =>\n                  setFormData({ ...formData, municipio: e.target.value })\n                }\n                className={`w-full p-2 rounded-md border ${\n                  formData.municipio ? 'border-green-500' : 'border-gray-300'\n                }`}\n                disabled={!formData.provincia}\n              >\n                <option value=\"\">Seleccione un municipio</option>\n                {formData.provincia &&\n                  provinciasCuba[\n                    formData.provincia as keyof typeof provinciasCuba\n                    ].map((municipio: string) => (\n                    <option key={municipio} value={municipio}>\n                      {municipio}\n                    </option>\n                  ))}\n              </select>\n              {formData.municipio && (\n                <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\n                  <Check className=\"h-5 w-5 text-green-500\" />\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n        <div className=\"flex w-full items-center\">\n          <span className={`flex ${formData.provincia === 'La Habana' ? 'text-[#9a9a9a]' : 'text-gray-400'} font-bold`}>\n            ¿Necesitas entrega a domicilio? {formData.provincia !== 'La Habana' && '(Disponible solo en La Habana)'}\n          </span>\n          <input\n            type=\"checkbox\"\n            checked={delivery === 1}\n            disabled={formData.provincia !== 'La Habana'}\n            onChange={(e) => {\n              const isChecked = e.target.checked;\n              setDelivery(isChecked ? 1 : 0);\n              setIsAnimating(true);\n              if (isChecked) {\n                setIsExpanded(true);\n              }\n            }}\n            className={`flex ml-auto h-5 w-5 rounded border-gray-300 text-[#022953] focus:ring-[#022953] ${\n              formData.provincia === 'La Habana' ? 'cursor-pointer' : 'cursor-not-allowed opacity-50'\n            }`}\n          />\n        </div>\n\n        <div\n          className={`overflow-hidden transition-all duration-300 ease-in-out ${\n            delivery === 1\n              ? 'max-h-40 opacity-100'\n              : 'max-h-0 opacity-0'\n          }`}\n          onTransitionEnd={() => {\n            if (delivery === 0) {\n              setIsExpanded(false);\n            }\n            setIsAnimating(false);\n          }}\n          style={{\n            visibility: isExpanded || isAnimating ? 'visible' : 'hidden'\n          }}\n        >\n          {isExpanded && (\n            <div className=\"flex flex-col gap-2 w-full pt-2\">\n              <span className=\"flex text-[#9a9a9a]\">Dirección</span>\n              <div className=\"relative\">\n                <textarea\n                  value={formData.direccionExacta}\n                  onChange={(e) =>\n                    setFormData(prev => ({ ...prev, direccionExacta: e.target.value }))\n                  }\n                  required={delivery === 1}\n                  placeholder=\"Escriba su dirección aquí\"\n                  className={`w-full p-2 min-h-20 bg-white placeholder:text-left text-left align-top rounded-md border focus:ring-2 focus:ring-[#022953] focus:border-transparent transition-all duration-200 ${\n                    tried && delivery === 1 && !formData.direccionExacta\n                      ? 'border-red-500'\n                      : formData.direccionExacta\n                        ? 'border-green-500'\n                        : 'border-gray-300'\n                  }`}\n                />\n                {formData.direccionExacta && (\n                  <div className=\"absolute right-3 top-3\">\n                    <Check className=\"h-5 w-5 text-green-500\" />\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/*\n        <div className=\"w-full mt-4 mb-6\">\n          <div className=\"flex justify-between text-sm text-gray-600 mb-1\">\n            <span>Progreso del formulario</span>\n            <span>{Math.round(progress)}%</span>\n          </div>\n          <div className=\"w-full bg-gray-200 rounded-full h-2.5 overflow-hidden\">\n            <div\n              className=\"bg-gradient-to-r from-[#022953] to-[#034078] h-2.5 rounded-full transition-all duration-500 ease-out\"\n              style={{ width: `${progress}%` }}\n            />\n          </div>\n        </div>\n        */}\n\n        <div className=\"hidden w-full h-full bg-blue-500/10 md:p-10 p-4 items-center justify-center text-center md:text-2xl rounded-md text-blue-900\">\n          Lo sentimos, no se pueden hacer pedidos temporalmente\n        </div>\n\n        <div className=\"flex w-full justify-center\">\n          <button\n            onClick={handleSubmit}\n            className=\"flex w-full md:w-1/2 h-12 bg-[#022953] font-bold text-white items-center justify-center hover:text-lg transition-all duration-300 rounded-md\"\n          >\n            Confirmar orden\n          </button>\n        </div>\n        {tried && error && (\n          <span className=\"w-full bg-red-300 font-xs p-2 items-center text-center text-red-700 rounded-md\">\n            {error}\n          </span>\n        )}\n      </div>\n    </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;AAgYW;;AA9XX;AACA;AACA;AAAA;AAAA;AACA;AACA;;;AANA;;;;;;AAkCA,MAAM,iBAAiB;IACrB,iBAAiB;QACf;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,aAAa;QACX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,WAAW;QACT;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,YAAY;QACV;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,eAAe;QACb;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,mBAAmB;QACjB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,kBAAkB;QAChB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,UAAU;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,aAAa;QACX;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,SAAS;QACP;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,QAAQ;QACN;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,oBAAoB;QAClB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,YAAY;QACV;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,uBAAuB;QAAC;KAAsB;AAChD;AAEA,eAAe,eAAe,QAAa;IACzC,IAAI,CAAC,UAAU;QACb,QAAQ,GAAG,CAAC;QACZ,OAAO,CAAC;IACV;IAEA,IAAI;QACF,MAAM,OAAO,KAAK,SAAS,CAAC;YAC1B,gBAAgB,SAAS,MAAM;YAC/B,SAAS,SAAS,MAAM;YACxB,YAAY;QACd;QAEA,MAAM,WAAW,MAAM,MACrB,kEAAmC,0BAA0B,CAAC,EAC9D;YACE,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM;QACR;QAGF,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM;QAClB;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,QAAQ,GAAG,CAAC;QACZ,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC;IACd;AACF;AAEA,eAAe;IACb,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,2CAA2C;YACjE,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC,CAAC;QACxB;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,OAAO,CAAC,KAAK,OAAO,IAAI,KAAK,OAAO,KAAK,SAAS,OAAO;IAC3D,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,kCAAkC;QAChD,OAAO;IACT;AACF;AAEe,SAAS;;IACtB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,YAAY,CAAA,GAAA,uHAAA,CAAA,UAAO,AAAD;2CAAE,CAAC,QAAU,MAAM,SAAS;;IAEpD,wBAAwB;IACxB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAgB,OAAO,gDAAgD;IAChH,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAS,EAAE,GAAG,yCAAyC;IAClG,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IACjD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAA6B,CAAC;IACzE,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,gBAAgB;IAChB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IAClE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IACnE,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE7D,aAAa;IACb,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAY;QACjD,WAAW;QACX,WAAW;QACX,iBAAiB;QACjB,OAAO;QACP,YAAY;QACZ,aAAa;IACf;IAEA,wBAAwB;IACxB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAc;QACvD,SAAS;QACT,WAAW;QACX,WAAW;QACX,iBAAiB;QACjB,OAAO;QACP,YAAY;IACd;IAEA,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,sCAAsC;IACtC,MAAM,WAAW,OAAO,MAAM,CAAC,YAAY,MAAM,CAC/C,CAAC,KAAK,OAAS,MAAM,MACrB;IAGF,2CAA2C;IAC3C,MAAM,cAAc,aAAa,IAAI,IAAI;IACzC,MAAM,aAAa,WAAW;IAE9B,yEAAyE;IACzE,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,IAAI,SAAS,SAAS,KAAK,eAAe,aAAa,GAAG;gBACxD,YAAY;gBACZ,cAAc;YAChB;QACF;iCAAG;QAAC,SAAS,SAAS;QAAE;KAAS;IAEjC,iCAAiC;IACjC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM,eAAe,kBACjB,CAAC,CAAC,oBACF,SAAS,SAAS,CAAC,IAAI,OAAO,MAC9B,SAAS,SAAS,CAAC,IAAI,OAAO,MAC9B,CAAC,aAAa,KAAK,SAAS,eAAe,CAAC,IAAI,OAAO,EAAE;YAE7D,MAAM,gBAAgB;gBACpB,SAAS;gBACT,OAAO,oBAAoB,IAAI,CAAC,SAAS,KAAK;gBAC9C,YAAY,WAAW,IAAI,CAAC,SAAS,UAAU;gBAC/C,GAAI,CAAC,mBAAmB;oBACtB,WAAW,SAAS,SAAS,CAAC,IAAI,OAAO;oBACzC,WAAW,SAAS,SAAS,CAAC,IAAI,OAAO;oBACzC,GAAI,aAAa,KAAK;wBACpB,iBAAiB,SAAS,eAAe,CAAC,IAAI,OAAO;oBACvD,CAAC;gBACH,CAAC;YACH;YAEA;0CAAc,CAAA,OAAQ,CAAC;wBACrB,GAAG,IAAI;wBACP,GAAG,aAAa;oBAClB,CAAC;;YAED,qBAAqB;YACrB,MAAM,iBAAiB,IAAI,CAAC,aAAa,KAAK,CAAC,kBAAkB,IAAI,CAAC,GAAG,yCAAyC;YAClH,MAAM,cAAc,OAAO,MAAM,CAAC,eAAe,MAAM,CAAC,SAAS,MAAM;YACvE,MAAM,qBAAqB,KAAK,GAAG,CAAC,KAAK,AAAC,cAAc,iBAAkB;YAC1E,YAAY;QACd;iCAAG;QAAC;QAAU;QAAU;QAAiB;KAAkB;IAE3D,qBAAqB;IACrB,MAAM,cAAc,OAAO;QACzB,IAAI;YACF,MAAM,WAAW,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,eAAe;YAChE,IAAI,CAAC,UAAU,QAAQ;YAEvB,MAAM,WAAW,MAAM,MACrB,kEAAmC,kCAAkC,CAAC,EACtE;gBACE,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,SAAS,SAAS,MAAM;oBACxB,GAAG,WAAW;gBAChB;YACF;YAGF,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,aAAa,MAAM,SAAS,IAAI;gBACtC,kBAAkB,CAAA,OAAQ;2BAAI;wBAAM;qBAAW;gBAC/C,OAAO;YACT;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;QACzC;QACA,OAAO;IACT;IAEA,MAAM,eAAe;QACnB,SAAS;QAET,8CAA8C;QAC9C,IAAI,eAAe;QACnB,IAAI,eAAe;QAEnB,IAAI,iBAAiB;YACnB,eAAe,CAAC,CAAC;YACjB,eAAe,eAAe,IAAI,CAAC,CAAA,OAAQ,KAAK,EAAE,CAAC,QAAQ,OAAO;QACpE,OAAO;YACL,eAAe,SAAS,SAAS,CAAC,IAAI,OAAO,MAChC,SAAS,SAAS,CAAC,IAAI,OAAO,MAC9B,CAAC,aAAa,KAAK,SAAS,eAAe,CAAC,IAAI,OAAO,EAAE;QACxE;QAEA,4BAA4B;QAC5B,MAAM,cACJ,gBACA,SAAS,KAAK,CAAC,IAAI,OAAO,MAC1B,WAAW,IAAI,CAAC,SAAS,UAAU;QAErC,IAAI,CAAC,aAAa;YAChB,SAAS;YACT;QACF;QAEA,SAAS;QAET,6BAA6B;QAC7B,IAAI,CAAC,mBAAmB,SAAS,WAAW,EAAE;YAC5C,MAAM,cAAc;gBAClB,WAAW,SAAS,SAAS;gBAC7B,WAAW,SAAS,SAAS;gBAC7B,WAAW,SAAS,eAAe;YACrC;YACA,MAAM,YAAY;QACpB;QAEA,IAAI;YACF,MAAM,WACJ,uCACI,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,eAAe;YAGrD,iCAAiC;YACjC,MAAM,OAAO,SAAS,IAAI,IAAI;YAC9B,MAAM,oBAAoB,GAAG,SAAS,KAAK,IAAI,GAAG,CAAC,EAAE,SAAS,KAAK,IAAI,IAAI,CAAC,IAAI;YAEhF,MAAM,YAAY;gBAChB,GAAG,QAAQ;gBACX,cAAc;gBACd,YAAY;gBACZ,mBAAmB,SAAS,KAAK;gBACjC,gBAAgB,SAAS,MAAM;gBAC/B,SAAS,SAAS,MAAM;gBACxB,WAAW,SAAS,MAAM;gBAC1B;gBACA,OAAO;gBACP;gBACA,OAAO,WAAW,IAAI,CAAC,OAAS,CAAC;wBAC/B,YAAY,KAAK,EAAE;wBACnB,OAAO,KAAK,KAAK;wBACjB,OAAO,KAAK,MAAM,CAAC,EAAE,CAAC,EAAE;wBACxB,UAAU,KAAK,MAAM,CAAC,EAAE,CAAC,EAAE;oBAC7B,CAAC;YACH;YAEA,QAAQ,GAAG,CAAC;YAEZ,MAAM,WAAW,MAAM,MACrB,kEAAmC,UAAU,CAAC,EAC9C;gBACE,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAGF,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,QAAQ,GAAG,CAAC,iBAAiB,OAAO,wBAAwB;YAE5D,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,SAAS,KAAK,OAAO,IAAI;gBACzB,QAAQ,iCAAiC;YAC3C;YAEA,IAAI,CAAC,QAAQ,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,KAAK,CAAC,IAAI,EAAE;gBAC5C,QAAQ,KAAK,CAAC,sCAAsC;gBACpD,SAAS;gBACT;YACF;YAEA,UAAU;YAEV,MAAM,cAAc,IAAI,gBAAgB;gBACtC,MAAM,KAAK,KAAK,CAAC,IAAI;gBACrB,GAAI,SAAS,eAAe,IAAI;oBAC9B,iBAAiB,GAAG,SAAS,eAAe,CAAC,EAAE,EAAE,SAAS,SAAS,CAAC,EAAE,EAAE,SAAS,SAAS,EAAE;gBAC9F,CAAC;gBACD,OAAO,WAAW,OAAO,CAAC;gBAC1B,UAAU;YACZ,GAAG,QAAQ;YAEX,OAAO,IAAI,CAAC,CAAC,iBAAiB,EAAE,aAAa;QAC/C,EAAE,OAAO,KAAK;YACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAChD;IACF;IAEA,MAAM,oBAAoB,CAAC,QAAgB;QACzC,cAAc,CAAC,OAAS,CAAC;gBACvB,GAAG,IAAI;gBACP,CAAC,OAAO,EAAE;YACZ,CAAC;IACH;IACA,IAAI,cAAc,MAAM;QACtB,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAI,WAAU;kCAA4B;;;;;;;;;;;;;;;;;IAInD;IAEA,IAAI,UAAU,MAAM,KAAK,GAAG;QAC1B,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAyC;;;;;;kCACvD,6LAAC;wBAAE,WAAU;kCAAqB;;;;;;kCAClC,6LAAC;wBACC,SAAS,IAAM,OAAO,IAAI,CAAC;wBAC3B,WAAU;kCACX;;;;;;;;;;;;;;;;;IAMT;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACf,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAG,WAAU;kCAAgG;;;;;;;;;;;8BAIhH,6LAAC;oBAAI,WAAU;8BACZ,UAAU,GAAG,CAAC,CAAC,qBACd,6LAAC,sIAAA,CAAA,UAAa;4BAEZ,UAAU;4BACV,MAAM;4BACN,YAAY;4BACZ,eAAe,CAAC,QAAU,kBAAkB,KAAK,EAAE,EAAE;2BAJhD,KAAK,EAAE;;;;;;;;;;8BAQlB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAK,WAAU;8CAAsB;;;;;;8CACtC,6LAAC;oCAAK,WAAU;;wCACb,SAAS,OAAO,CAAC;wCAAG;wCAAE,aAAa,OAAO,QAAQ;;;;;;;;;;;;;wBAGtD,aAAa,mBACZ,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAK,WAAU;sDAAiB;;;;;;sDACjC,6LAAC;4CAAK,WAAU;sDAAwB;;;;;;;;;;;;8CAE1C,6LAAC;oCAAK,WAAU;;wCAAsC;wCAClD,YAAY,OAAO,CAAC;wCAAG;wCAAE,aAAa,OAAO,QAAQ;;;;;;;;;;;;;sCAI7D,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAK,WAAU;8CAAgC;;;;;;8CAChD,6LAAC;oCAAK,WAAU;;wCACb,WAAW,OAAO,CAAC;wCAAG;wCAAE,aAAa,OAAO,QAAQ;;;;;;;;;;;;;;;;;;;8BAI3D,6LAAC;oBAAG,WAAU;;;;;;8BACd,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAK,WAAU;8CAAsB;;;;;;8CACtC,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC,mNAAA,CAAA,YAAS;gDAAC,WAAU;;;;;;;;;;;sDAEvB,6LAAC;4CAAK,WAAU;sDACb,uCACG,GAAG,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,eAAe,MAAM,IAAI,IAAI,GAAG,CAAC,EAAE,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,eAAe,MAAM,KAAK,IAAI,GAAG,CAAC,EAAE,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,eAAe,MAAM,KAAK,IAAI,IAAI;;;;;;;;;;;;;;;;;;sCAOtN,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAA6B;;;;;;gCAE1C,eAAe,MAAM,GAAG,mBACvB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,MAAK;oDACL,IAAG;oDACH,SAAS;oDACT,UAAU,CAAC;wDACT,mBAAmB,EAAE,MAAM,CAAC,OAAO;wDACnC,IAAI,CAAC,EAAE,MAAM,CAAC,OAAO,EAAE;4DACrB,qBAAqB;wDACvB;oDACF;oDACA,WAAU;;;;;;8DAEZ,6LAAC;oDAAM,SAAQ;oDAAkB,WAAU;8DAA2B;;;;;;;;;;;;wCAKvE,iCACC,6LAAC;4CACC,OAAO;4CACP,UAAU,CAAC,IAAM,qBAAqB,EAAE,MAAM,CAAC,KAAK;4CACpD,WAAU;;8DAEV,6LAAC;oDAAO,OAAM;8DAAG;;;;;;gDAChB,eAAe,GAAG,CAAC,CAAC,wBACnB,6LAAC;wDAAwB,OAAO,QAAQ,EAAE;kEACvC,GAAG,QAAQ,SAAS,CAAC,EAAE,EAAE,QAAQ,SAAS,CAAC,EAAE,EAAE,QAAQ,SAAS,EAAE;uDADxD,QAAQ,EAAE;;;;;;;;;;;;;;;;;gCAShC,CAAC,CAAC,mBAAmB,eAAe,MAAM,KAAK,CAAC,mBAC/C;;sDACE,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAM,WAAU;8DAA+C;;;;;;8DAGhE,6LAAC;oDACC,MAAK;oDACL,OAAO,SAAS,SAAS;oDACzB,UAAU,CAAC;wDACT,YAAY,CAAA,OAAQ,CAAC;gEACnB,GAAG,IAAI;gEACP,WAAW,EAAE,MAAM,CAAC,KAAK;gEACzB,WAAW;4DACb,CAAC;oDACH;oDACA,WAAU;oDACV,QAAQ;;sEAER,6LAAC;4DAAO,OAAM;sEAAG;;;;;;wDAChB,OAAO,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,0BAChC,6LAAC;gEAAuB,OAAO;0EAC5B;+DADU;;;;;;;;;;;;;;;;;sDAOnB,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAM,WAAU;8DAA+C;;;;;;8DAGhE,6LAAC;oDACC,MAAK;oDACL,OAAO,SAAS,SAAS;oDACzB,UAAU,CAAC;wDACT,YAAY,CAAA,OAAQ,CAAC;gEACnB,GAAG,IAAI;gEACP,WAAW,EAAE,MAAM,CAAC,KAAK;4DAC3B,CAAC;oDACH;oDACA,WAAU;oDACV,UAAU,CAAC,SAAS,SAAS;oDAC7B,QAAQ;;sEAER,6LAAC;4DAAO,OAAM;sEAAG;;;;;;wDAChB,SAAS,SAAS,IACjB,cAAc,CAAC,SAAS,SAAS,CAAgC,EAAE,IAAI,CAAC,0BACtE,6LAAC;gEAAuB,OAAO;0EAC5B;+DADU;;;;;;;;;;;;;;;;;wCAOpB,aAAa,mBACZ,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAM,WAAU;8DAA+C;;;;;;8DAGhE,6LAAC;oDACC,MAAK;oDACL,MAAK;oDACL,OAAO,SAAS,eAAe;oDAC/B,UAAU,CAAC;wDACT,YAAY,CAAA,OAAQ,CAAC;gEACnB,GAAG,IAAI;gEACP,iBAAiB,EAAE,MAAM,CAAC,KAAK;4DACjC,CAAC;oDACH;oDACA,WAAU;oDACV,aAAY;oDACZ,QAAQ;;;;;;;;;;;;sDAKd,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,MAAK;oDACL,IAAG;oDACH,SAAS,SAAS,WAAW;oDAC7B,UAAU,CAAC;wDACT,YAAY,CAAA,OAAQ,CAAC;gEACnB,GAAG,IAAI;gEACP,aAAa,EAAE,MAAM,CAAC,OAAO;4DAC/B,CAAC;oDACH;oDACA,WAAU;;;;;;8DAEZ,6LAAC;oDAAM,SAAQ;oDAAc,WAAU;8DAAmC;;;;;;;;;;;;;;;;;;;;sCASlF,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAA6B;;;;;;8CAC3C,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAM,WAAU;sDAAiB;;;;;;sDAGlC,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,MAAK;oDACL,OAAO,SAAS,KAAK;oDACrB,UAAU,CAAC;wDACT,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,eAAe;wDACpD,YAAY;4DAAE,GAAG,QAAQ;4DAAE,OAAO;wDAAM;oDAC1C;oDACA,aAAY;oDACZ,WAAW,CAAC,6BAA6B,EACvC,SAAS,CAAC,WAAW,KAAK,IAAI,SAAS,KAAK,GACxC,mBACA,kBACL,CAAC,EAAE,SAAS,KAAK,GAAI,WAAW,KAAK,GAAG,qBAAqB,mBAAoB,IAAI;oDACtF,QAAQ;;;;;;gDAET,SAAS,KAAK,kBACb,6LAAC;oDAAI,WAAU;8DACZ,WAAW,KAAK,iBACf,6LAAC,uMAAA,CAAA,QAAK;wDAAC,WAAU;;;;;6EAEjB,6LAAC,+LAAA,CAAA,IAAC;wDAAC,WAAU;;;;;;;;;;;;;;;;;wCAKpB,SAAS,CAAC,WAAW,KAAK,IAAI,SAAS,KAAK,kBAC3C,6LAAC;4CAAE,WAAU;sDAAuB;;;;;;;;;;;;;;;;;;sCAM1C,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAM,WAAU;sDAAiB;;;;;;sDAClC,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,MAAK;oDACL,OAAO,SAAS,UAAU,IAAI;oDAC9B,UAAU,CAAC;wDACT,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,iBAAiB,IAAI,WAAW;wDACrE,YAAY;4DAAE,GAAG,QAAQ;4DAAE,YAAY;wDAAM;oDAC/C;oDACA,aAAY;oDACZ,WAAW,CAAC,6BAA6B,EACvC,SAAS,CAAC,WAAW,UAAU,IAAI,SAAS,UAAU,GAClD,mBACA,kBACL,CAAC,EACA,SAAS,UAAU,GAAI,WAAW,UAAU,GAAG,qBAAqB,mBAAoB,IACxF;oDACF,QAAQ;;;;;;gDAET,SAAS,UAAU,kBAClB,6LAAC;oDAAI,WAAU;8DACZ,WAAW,UAAU,iBACpB,6LAAC,uMAAA,CAAA,QAAK;wDAAC,WAAU;;;;;6EAEjB,6LAAC,+LAAA,CAAA,IAAC;wDAAC,WAAU;;;;;;;;;;;;;;;;;wCAKpB,SAAS,CAAC,WAAW,UAAU,IAAI,SAAS,UAAU,kBACrD,6LAAC;4CAAE,WAAU;sDAAuB;;;;;;;;;;;;8CAKxC,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAM,WAAU;sDAAiB;;;;;;sDAClC,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,OAAO,SAAS,SAAS;oDACzB,UAAU,CAAC,IACT,YAAY;4DACV,GAAG,QAAQ;4DACX,WAAW,EAAE,MAAM,CAAC,KAAK;4DACzB,WAAW;wDACb;oDAEF,WAAW,CAAC,6BAA6B,EACvC,SAAS,SAAS,GAAG,qBAAqB,mBAC1C;;sEAEF,6LAAC;4DAAO,OAAM;sEAAG;;;;;;wDAChB,OAAO,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,0BAChC,6LAAC;gEAAuB,OAAO;0EAC5B;+DADU;;;;;;;;;;;gDAKhB,SAAS,SAAS,kBACjB,6LAAC;oDAAI,WAAU;8DACb,cAAA,6LAAC,uMAAA,CAAA,QAAK;wDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;8CAMzB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAM,WAAU;sDAAiB;;;;;;sDAClC,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,OAAO,SAAS,SAAS;oDACzB,UAAU,CAAC,IACT,YAAY;4DAAE,GAAG,QAAQ;4DAAE,WAAW,EAAE,MAAM,CAAC,KAAK;wDAAC;oDAEvD,WAAW,CAAC,6BAA6B,EACvC,SAAS,SAAS,GAAG,qBAAqB,mBAC1C;oDACF,UAAU,CAAC,SAAS,SAAS;;sEAE7B,6LAAC;4DAAO,OAAM;sEAAG;;;;;;wDAChB,SAAS,SAAS,IACjB,cAAc,CACZ,SAAS,SAAS,CACjB,CAAC,GAAG,CAAC,CAAC,0BACP,6LAAC;gEAAuB,OAAO;0EAC5B;+DADU;;;;;;;;;;;gDAKlB,SAAS,SAAS,kBACjB,6LAAC;oDAAI,WAAU;8DACb,cAAA,6LAAC,uMAAA,CAAA,QAAK;wDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAM3B,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAK,WAAW,CAAC,KAAK,EAAE,SAAS,SAAS,KAAK,cAAc,mBAAmB,gBAAgB,UAAU,CAAC;;wCAAE;wCAC3E,SAAS,SAAS,KAAK,eAAe;;;;;;;8CAEzE,6LAAC;oCACC,MAAK;oCACL,SAAS,aAAa;oCACtB,UAAU,SAAS,SAAS,KAAK;oCACjC,UAAU,CAAC;wCACT,MAAM,YAAY,EAAE,MAAM,CAAC,OAAO;wCAClC,YAAY,YAAY,IAAI;wCAC5B,eAAe;wCACf,IAAI,WAAW;4CACb,cAAc;wCAChB;oCACF;oCACA,WAAW,CAAC,iFAAiF,EAC3F,SAAS,SAAS,KAAK,cAAc,mBAAmB,iCACxD;;;;;;;;;;;;sCAIN,6LAAC;4BACC,WAAW,CAAC,wDAAwD,EAClE,aAAa,IACT,yBACA,qBACJ;4BACF,iBAAiB;gCACf,IAAI,aAAa,GAAG;oCAClB,cAAc;gCAChB;gCACA,eAAe;4BACjB;4BACA,OAAO;gCACL,YAAY,cAAc,cAAc,YAAY;4BACtD;sCAEC,4BACC,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAK,WAAU;kDAAsB;;;;;;kDACtC,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDACC,OAAO,SAAS,eAAe;gDAC/B,UAAU,CAAC,IACT,YAAY,CAAA,OAAQ,CAAC;4DAAE,GAAG,IAAI;4DAAE,iBAAiB,EAAE,MAAM,CAAC,KAAK;wDAAC,CAAC;gDAEnE,UAAU,aAAa;gDACvB,aAAY;gDACZ,WAAW,CAAC,gLAAgL,EAC1L,SAAS,aAAa,KAAK,CAAC,SAAS,eAAe,GAChD,mBACA,SAAS,eAAe,GACtB,qBACA,mBACN;;;;;;4CAEH,SAAS,eAAe,kBACvB,6LAAC;gDAAI,WAAU;0DACb,cAAA,6LAAC,uMAAA,CAAA,QAAK;oDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAuB7B,6LAAC;4BAAI,WAAU;sCAA+H;;;;;;sCAI9I,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;wBAIF,SAAS,uBACR,6LAAC;4BAAK,WAAU;sCACb;;;;;;;;;;;;;;;;;;;;;;;AAOb;GArsBwB;;QACP,qIAAA,CAAA,YAAS;QACN,uHAAA,CAAA,UAAO;;;KAFH","debugId":null}}]
}