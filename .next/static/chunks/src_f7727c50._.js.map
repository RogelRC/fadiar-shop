{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/fadiar-shop/src/store/Filters.ts"],"sourcesContent":["import { create } from \"zustand\";\r\n\r\ninterface filtersState {\r\n  name: string;\r\n  brand: string;\r\n  category: string; // Nueva propiedad\r\n  available: string;\r\n  minPrice: number;\r\n  maxPrice: number;\r\n  setName: (name: string) => void;\r\n  setBrand: (brand: string) => void;\r\n  setCategory: (category: string) => void; // Nuevo setter\r\n  setAvailable: (available: string) => void;\r\n  setMinPrice: (minPrice: number) => void;\r\n  setMaxPrice: (maxPrice: number) => void;\r\n}\r\n\r\nexport const useFilters = create<filtersState>((set) => ({\r\n  name: \"\",\r\n  brand: \"\",\r\n  category: \"\", // Inicializar categoría\r\n  available: \"\",\r\n  minPrice: 0,\r\n  maxPrice: 1000000,\r\n  setName: (name: string) => set({ name }),\r\n  setBrand: (brand: string) => set({ brand }),\r\n  setCategory: (category: string) => set({ category }), // Setter de categoría\r\n  setAvailable: (available: string) => set({ available }),\r\n  setMinPrice: (minPrice: number) => set({ minPrice }),\r\n  setMaxPrice: (maxPrice: number) => set({ maxPrice }),\r\n}));\r\n"],"names":[],"mappings":";;;AAAA;;AAiBO,MAAM,aAAa,CAAA,GAAA,2IAAA,CAAA,SAAM,AAAD,EAAgB,CAAC,MAAQ,CAAC;QACvD,MAAM;QACN,OAAO;QACP,UAAU;QACV,WAAW;QACX,UAAU;QACV,UAAU;QACV,SAAS,CAAC,OAAiB,IAAI;gBAAE;YAAK;QACtC,UAAU,CAAC,QAAkB,IAAI;gBAAE;YAAM;QACzC,aAAa,CAAC,WAAqB,IAAI;gBAAE;YAAS;QAClD,cAAc,CAAC,YAAsB,IAAI;gBAAE;YAAU;QACrD,aAAa,CAAC,WAAqB,IAAI;gBAAE;YAAS;QAClD,aAAa,CAAC,WAAqB,IAAI;gBAAE;YAAS;IACpD,CAAC","debugId":null}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/fadiar-shop/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\n/**\r\n * Normaliza texto para búsquedas insensibles a tildes y caracteres especiales\r\n * @param text - El texto a normalizar\r\n * @returns Texto normalizado en minúsculas sin tildes ni caracteres especiales\r\n */\r\nexport function normalizeText(text: string): string {\r\n  return text\r\n    .toLowerCase()\r\n    .normalize('NFD')\r\n    .replace(/[\\u0300-\\u036f]/g, '') // Remover diacríticos (tildes)\r\n    .replace(/[ñ]/g, 'n') // Convertir ñ a n\r\n    .replace(/[ü]/g, 'u') // Convertir ü a u\r\n    .replace(/[ç]/g, 'c') // Convertir ç a c\r\n    .replace(/[ß]/g, 'ss') // Convertir ß a ss\r\n    .replace(/[æ]/g, 'ae') // Convertir æ a ae\r\n    .replace(/[œ]/g, 'oe') // Convertir œ a oe\r\n    .replace(/[^a-z0-9\\s]/g, '') // Remover caracteres especiales excepto espacios\r\n    .replace(/\\s+/g, ' ') // Normalizar espacios múltiples\r\n    .trim();\r\n}\r\n\r\n/**\r\n * Busca texto normalizado dentro de otro texto normalizado\r\n * @param searchText - El texto a buscar\r\n * @param targetText - El texto donde buscar\r\n * @returns true si se encuentra la coincidencia\r\n */\r\nexport function searchInText(searchText: string, targetText: string): boolean {\r\n  const normalizedSearch = normalizeText(searchText);\r\n  const normalizedTarget = normalizeText(targetText);\r\n  return normalizedTarget.includes(normalizedSearch);\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB;AAOO,SAAS,cAAc,IAAY;IACxC,OAAO,KACJ,WAAW,GACX,SAAS,CAAC,OACV,OAAO,CAAC,oBAAoB,IAAI,+BAA+B;KAC/D,OAAO,CAAC,QAAQ,KAAK,kBAAkB;KACvC,OAAO,CAAC,QAAQ,KAAK,kBAAkB;KACvC,OAAO,CAAC,QAAQ,KAAK,kBAAkB;KACvC,OAAO,CAAC,QAAQ,MAAM,mBAAmB;KACzC,OAAO,CAAC,QAAQ,MAAM,mBAAmB;KACzC,OAAO,CAAC,QAAQ,MAAM,mBAAmB;KACzC,OAAO,CAAC,gBAAgB,IAAI,iDAAiD;KAC7E,OAAO,CAAC,QAAQ,KAAK,gCAAgC;KACrD,IAAI;AACT;AAQO,SAAS,aAAa,UAAkB,EAAE,UAAkB;IACjE,MAAM,mBAAmB,cAAc;IACvC,MAAM,mBAAmB,cAAc;IACvC,OAAO,iBAAiB,QAAQ,CAAC;AACnC","debugId":null}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/fadiar-shop/src/components/SearchBar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Search, X } from \"lucide-react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport { useFilters } from \"@/store/Filters\";\r\nimport { normalizeText } from \"@/lib/utils\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ninterface Product {\r\n  id: number;\r\n  brand: string;\r\n  name: string;\r\n  model: string;\r\n  description: string;\r\n  img: string;\r\n  categoria: any;\r\n}\r\n\r\n// Función para calcular la distancia de Levenshtein usando programación dinámica\r\nfunction levenshteinDistance(str1: string, str2: string): number {\r\n  const m = str1.length;\r\n  const n = str2.length;\r\n  \r\n  // Crear matriz DP\r\n  const dp: number[][] = Array(m + 1).fill(null).map(() => Array(n + 1).fill(0));\r\n  \r\n  // Inicializar primera fila y columna\r\n  for (let i = 0; i <= m; i++) {\r\n    dp[i][0] = i;\r\n  }\r\n  for (let j = 0; j <= n; j++) {\r\n    dp[0][j] = j;\r\n  }\r\n  \r\n  // Llenar la matriz DP\r\n  for (let i = 1; i <= m; i++) {\r\n    for (let j = 1; j <= n; j++) {\r\n      if (str1[i - 1] === str2[j - 1]) {\r\n        dp[i][j] = dp[i - 1][j - 1];\r\n      } else {\r\n        dp[i][j] = Math.min(\r\n          dp[i - 1][j] + 1,     // Eliminación\r\n          dp[i][j - 1] + 1,     // Inserción\r\n          dp[i - 1][j - 1] + 1  // Sustitución\r\n        );\r\n      }\r\n    }\r\n  }\r\n  \r\n  return dp[m][n];\r\n}\r\n\r\n// Función para calcular similitud basada en distancia de Levenshtein\r\nfunction calculateSimilarity(str1: string, str2: string): number {\r\n  const normalizedStr1 = normalizeText(str1);\r\n  const normalizedStr2 = normalizeText(str2);\r\n  const distance = levenshteinDistance(normalizedStr1, normalizedStr2);\r\n  const maxLength = Math.max(normalizedStr1.length, normalizedStr2.length);\r\n  return maxLength === 0 ? 1 : (maxLength - distance) / maxLength;\r\n}\r\n\r\n// Función para encontrar coincidencias parciales (substring)\r\nfunction findPartialMatches(query: string, text: string): number {\r\n  const normalizedQuery = normalizeText(query);\r\n  const normalizedText = normalizeText(text);\r\n  \r\n  if (normalizedText.includes(normalizedQuery)) {\r\n    return normalizedQuery.length / normalizedText.length;\r\n  }\r\n  \r\n  // Buscar palabras individuales\r\n  const queryWords = normalizedQuery.split(/\\s+/);\r\n  const textWords = normalizedText.split(/\\s+/);\r\n  \r\n  let totalScore = 0;\r\n  for (const queryWord of queryWords) {\r\n    let bestScore = 0;\r\n    for (const textWord of textWords) {\r\n      if (textWord.includes(queryWord)) {\r\n        bestScore = Math.max(bestScore, queryWord.length / textWord.length);\r\n      }\r\n    }\r\n    totalScore += bestScore;\r\n  }\r\n  \r\n  return totalScore / queryWords.length;\r\n}\r\n\r\n// Función para calcular similitud con equivalencias de caracteres\r\nfunction calculateCharacterEquivalence(str1: string, str2: string): number {\r\n  const normalizedStr1 = normalizeText(str1);\r\n  const normalizedStr2 = normalizeText(str2);\r\n  \r\n  // Si son idénticos después de normalización, máxima similitud\r\n  if (normalizedStr1 === normalizedStr2) {\r\n    return 1;\r\n  }\r\n  \r\n  // Calcular similitud basada en caracteres equivalentes\r\n  let matches = 0;\r\n  const maxLength = Math.max(normalizedStr1.length, normalizedStr2.length);\r\n  \r\n  for (let i = 0; i < Math.min(normalizedStr1.length, normalizedStr2.length); i++) {\r\n    if (normalizedStr1[i] === normalizedStr2[i]) {\r\n      matches++;\r\n    }\r\n  }\r\n  \r\n  return maxLength === 0 ? 1 : matches / maxLength;\r\n}\r\n\r\n// Función específica para calcular similitud de nombres de productos\r\nfunction calculateProductNameSimilarity(query: string, productName: string): number {\r\n  const normalizedQuery = normalizeText(query);\r\n  const normalizedName = normalizeText(productName);\r\n  \r\n  // Si son idénticos, máxima similitud\r\n  if (normalizedQuery === normalizedName) {\r\n    return 1;\r\n  }\r\n  \r\n  // Si el nombre contiene la consulta, alta similitud\r\n  if (normalizedName.includes(normalizedQuery)) {\r\n    return 0.9;\r\n  }\r\n  \r\n  // Si la consulta contiene el nombre, similitud moderada\r\n  if (normalizedQuery.includes(normalizedName)) {\r\n    return 0.7;\r\n  }\r\n  \r\n  // Calcular similitud de Levenshtein\r\n  const levenshteinSim = calculateSimilarity(normalizedQuery, normalizedName);\r\n  \r\n  // Calcular similitud de caracteres\r\n  const charSim = calculateCharacterEquivalence(normalizedQuery, normalizedName);\r\n  \r\n  // Combinar similitudes con mayor peso en Levenshtein\r\n  return (levenshteinSim * 0.7) + (charSim * 0.3);\r\n}\r\n\r\nexport default function SearchBar() {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [suggestions, setSuggestions] = useState<Product[]>([]);\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [allProducts, setAllProducts] = useState<Product[]>([]);\r\n  const searchRef = useRef<HTMLDivElement>(null);\r\n  const router = useRouter();\r\n  const setName = useFilters((state) => state.setName);\r\n\r\n  // Cargar productos al montar el componente\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const response = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/inventory`);\r\n        const data = await response.json();\r\n        setAllProducts(data.products || []);\r\n      } catch (error) {\r\n        console.error(\"Error cargando productos:\", error);\r\n      }\r\n    };\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  // Manejar clics fuera del componente\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (searchRef.current && !searchRef.current.contains(event.target as Node)) {\r\n        setShowSuggestions(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  // Generar sugerencias mejoradas usando programación dinámica\r\n  useEffect(() => {\r\n    if (query.length < 2) {\r\n      setSuggestions([]);\r\n      setShowSuggestions(false);\r\n      return;\r\n    }\r\n\r\n    const normalizedQuery = normalizeText(query);\r\n    \r\n    // Calcular puntuación para cada producto\r\n    const scoredProducts = allProducts.map(product => {\r\n      const searchableText = normalizeText(\r\n        `${product.name} ${product.brand} ${product.model} ${product.description}`\r\n      );\r\n      \r\n      // Incluir categoría en el texto de búsqueda\r\n      const categoryText = product.categoria?.name ? normalizeText(product.categoria.name) : '';\r\n      const fullSearchableText = `${searchableText} ${categoryText}`;\r\n      \r\n      // Calcular diferentes tipos de similitud\r\n      const exactMatch = fullSearchableText.includes(normalizedQuery) ? 1 : 0;\r\n      const partialMatch = findPartialMatches(normalizedQuery, fullSearchableText);\r\n      const levenshteinSimilarity = calculateSimilarity(normalizedQuery, fullSearchableText);\r\n      const characterEquivalence = calculateCharacterEquivalence(normalizedQuery, fullSearchableText);\r\n      \r\n      // Puntuación ponderada\r\n      let score = 0;\r\n      \r\n      // Priorizar coincidencias exactas\r\n      if (exactMatch > 0) {\r\n        score += 100;\r\n      }\r\n      \r\n      // Bonus por coincidencia en nombre del producto (ALTA PRIORIDAD)\r\n      const nameSimilarity = calculateProductNameSimilarity(normalizedQuery, product.name);\r\n      score += nameSimilarity * 100; // Máxima prioridad para nombres de productos\r\n      \r\n      // Bonus por coincidencia en marca\r\n      const brandSimilarity = calculateSimilarity(normalizedQuery, normalizeText(product.brand));\r\n      score += brandSimilarity * 25; // Aumentado moderadamente\r\n      \r\n      // Coincidencias parciales generales\r\n      score += partialMatch * 30; // Reducido significativamente\r\n      \r\n      // Similitud de Levenshtein general\r\n      score += levenshteinSimilarity * 20; // Reducido\r\n      \r\n      // Equivalencia de caracteres (tildes, diéresis, etc.)\r\n      score += characterEquivalence * 15; // Reducido\r\n      \r\n      // Bonus por coincidencia en categoría (menor prioridad)\r\n      if (product.categoria?.name) {\r\n        const categorySimilarity = calculateSimilarity(normalizedQuery, normalizeText(product.categoria.name));\r\n        score += categorySimilarity * 15; // Reducido significativamente\r\n        \r\n        // Bonus extra si la categoría coincide exactamente\r\n        if (normalizeText(product.categoria.name).includes(normalizedQuery)) {\r\n          score += 20; // Reducido\r\n        }\r\n      }\r\n      \r\n      return {\r\n        product,\r\n        score\r\n      };\r\n    });\r\n\r\n    // Filtrar y ordenar por puntuación\r\n    const filtered = scoredProducts\r\n      .filter(item => item.score > 0.1) // Solo productos con puntuación mínima\r\n      .sort((a, b) => b.score - a.score)\r\n      .slice(0, 5) // Máximo 5 sugerencias\r\n      .map(item => item.product);\r\n\r\n    setSuggestions(filtered);\r\n    setShowSuggestions(filtered.length > 0);\r\n  }, [query, allProducts]);\r\n\r\n  // Debounce para búsqueda en tiempo real\r\n  useEffect(() => {\r\n    const timeoutId = setTimeout(() => {\r\n      if (query.length >= 2) {\r\n        // Normalizar la consulta antes de buscar\r\n        const normalizedQuery = normalizeText(query);\r\n        setName(normalizedQuery);\r\n        router.push(\"/products\");\r\n      } else if (query.length === 0) {\r\n        // Si el campo está vacío, solo limpiar la búsqueda sin redireccionar\r\n        setName(\"\");\r\n      }\r\n    }, 500); // Esperar 500ms después de que el usuario deje de escribir\r\n\r\n    return () => clearTimeout(timeoutId);\r\n  }, [query, setName, router]);\r\n\r\n  const handleSearch = () => {\r\n    // Normalizar la consulta antes de buscar\r\n    const normalizedQuery = normalizeText(query);\r\n    setName(normalizedQuery);\r\n    setShowSuggestions(false);\r\n    router.push(\"/products\");\r\n  };\r\n\r\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (event.key === \"Enter\") {\r\n      handleSearch();\r\n    }\r\n  };\r\n\r\n  const handleSuggestionClick = (product: Product) => {\r\n    setQuery(product.name);\r\n    setName(normalizeText(product.name));\r\n    setShowSuggestions(false);\r\n    router.push(\"/products\");\r\n  };\r\n\r\n  const clearSearch = () => {\r\n    setQuery(\"\");\r\n    setSuggestions([]);\r\n    setShowSuggestions(false);\r\n    setName(\"\"); // Limpiar el filtro de búsqueda\r\n    // No necesitamos router.push aquí porque el useEffect se encargará\r\n  };\r\n\r\n  return (\r\n    <div ref={searchRef} className=\"relative flex z-10 w-full items-center text-white lg:mx-20 md:mx-10 border-b-2 focus-within:border-blue-500 transition-colors duration-300\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Buscar productos...\"\r\n        className=\"w-full h-8 outline-none bg-transparent\"\r\n        value={query}\r\n        onChange={(e) => setQuery(e.target.value)}\r\n        onKeyDown={handleKeyDown}\r\n        onFocus={() => query.length >= 2 && setShowSuggestions(true)}\r\n      />\r\n      \r\n      {query && (\r\n        <button \r\n          onClick={clearSearch}\r\n          className=\"p-1 hover:bg-white/10 rounded-full transition-colors\"\r\n        >\r\n          <X size={16} />\r\n        </button>\r\n      )}\r\n      \r\n      <button \r\n        onClick={handleSearch}\r\n        className=\"p-1 hover:bg-white/10 rounded-full transition-colors\"\r\n      >\r\n        <Search size={20} />\r\n      </button>\r\n\r\n      {/* Sugerencias */}\r\n      <AnimatePresence>\r\n        {showSuggestions && suggestions.length > 0 && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: -10 }}\r\n            className=\"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-gray-200 max-h-80 overflow-y-auto z-50\"\r\n          >\r\n            {suggestions.map((product, index) => (\r\n              <motion.div\r\n                key={product.id}\r\n                initial={{ opacity: 0, x: -20 }}\r\n                animate={{ opacity: 1, x: 0 }}\r\n                transition={{ delay: index * 0.05 }}\r\n                onClick={() => handleSuggestionClick(product)}\r\n                className=\"flex items-center p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0\"\r\n              >\r\n                <div className=\"w-10 h-10 bg-gray-200 rounded-lg flex-shrink-0 mr-3 overflow-hidden\">\r\n                  {product.img && (\r\n                    <img \r\n                      src={`${process.env.NEXT_PUBLIC_API_URL}/${product.img}`}\r\n                      alt={product.name}\r\n                      className=\"w-full h-full object-cover\"\r\n                      onError={(e) => {\r\n                        const target = e.target as HTMLImageElement;\r\n                        target.style.display = 'none';\r\n                      }}\r\n                    />\r\n                  )}\r\n                </div>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <div className=\"text-sm font-medium text-gray-900 truncate\">\r\n                    {product.name}\r\n                  </div>\r\n                  <div className=\"text-xs text-gray-500 truncate\">\r\n                    {product.brand} • {product.model}\r\n                  </div>\r\n                  {product.categoria?.name && (\r\n                    <div className=\"text-xs text-blue-600 font-medium\">\r\n                      📂 {product.categoria.name}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </motion.div>\r\n            ))}\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 548, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/fadiar-shop/src/store/Cart.ts"],"sourcesContent":["import { create } from \"zustand\";\r\n\r\ninterface filtersState {\r\n  amount: number;\r\n  setAmount: (amount: number) => void;\r\n}\r\n\r\nexport const useCart = create<filtersState>((set, get) => ({\r\n  amount: 0,\r\n  setAmount: (amount: number) => set({ amount }),\r\n}));\r\n"],"names":[],"mappings":";;;AAAA;;AAOO,MAAM,UAAU,CAAA,GAAA,2IAAA,CAAA,SAAM,AAAD,EAAgB,CAAC,KAAK,MAAQ,CAAC;QACzD,QAAQ;QACR,WAAW,CAAC,SAAmB,IAAI;gBAAE;YAAO;IAC9C,CAAC","debugId":null}},
    {"offset": {"line": 568, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/fadiar-shop/src/components/BurguerMenu.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Menu, X, ChevronDown, ChevronRight } from \"lucide-react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useCart } from \"@/store/Cart\";\r\nimport Link from \"next/link\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { useFilters } from \"@/store/Filters\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nimport {\r\n  LogOut,\r\n  User,\r\n  WashingMachine,\r\n  ShoppingCart,\r\n  Info,\r\n  HandHelping,\r\n  Phone,\r\n  House,\r\n  LogIn,\r\n  Package,\r\n  Grid3X3,\r\n} from \"lucide-react\";\r\n\r\ninterface Category {\r\n  id: number;\r\n  id_padre: number | null;\r\n  name: string;\r\n  hijos: Category[];\r\n}\r\n\r\nconst handleLogout = () => {\r\n  localStorage.removeItem(\"userData\");\r\n  window.dispatchEvent(new Event(\"userDataChanged\"));\r\n};\r\n\r\nexport default function BurgerMenu() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [categories, setCategories] = useState<Category[]>([]);\r\n  const [expandedCategories, setExpandedCategories] = useState<number[]>([]);\r\n  const [categoriesSectionExpanded, setCategoriesSectionExpanded] = useState(false);\r\n  const setAmount = useCart((state) => state.setAmount);\r\n  const { amount } = useCart();\r\n  const [userData, setUserData] = useState<string | null>(null);\r\n  const setCategory = useFilters((state) => state.setCategory);\r\n  const router = useRouter();\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await fetch(\"https://app.fadiar.com/api/get_categories_tree\");\r\n      if (!response.ok) {\r\n        throw new Error(\"Error al cargar categorías\");\r\n      }\r\n      const data = await response.json();\r\n      setCategories(data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching categories:\", error);\r\n    }\r\n  };\r\n\r\n  const fetchCartItems = async () => {\r\n    const userData = JSON.parse(localStorage.getItem(\"userData\") || \"{}\");\r\n\r\n    if (!userData) {\r\n      console.log(\"No tengo datos\");\r\n      return {};\r\n    }\r\n\r\n    try {\r\n      const body = JSON.stringify({\r\n        id_user_action: userData.userId,\r\n        id_user: userData.userId,\r\n        comisiones: false,\r\n      });\r\n\r\n      const response = await fetch(\r\n        `${process.env.NEXT_PUBLIC_API_URL}/obtener_productos_carrito`,\r\n        {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: body,\r\n        },\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Error al cargar el carrito\");\r\n      }\r\n\r\n      const data = await response.json();\r\n      //console.log(data);\r\n      //console.log(\"aaaaaaaaaaaaaaaa\");\r\n      setAmount(\r\n        data.carrito.reduce((sum: any, item: any) => sum + item.en_carrito, 0),\r\n      );\r\n      return data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCartItems();\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Función para actualizar los datos\r\n    const updateUserData = () => {\r\n      setUserData(localStorage.getItem(\"userData\"));\r\n    };\r\n\r\n    // Ejecutar al montar el componente\r\n    updateUserData();\r\n\r\n    // Escuchar eventos de almacenamiento (cambios en otras pestañas)\r\n    const handleStorageChange = (e: StorageEvent) => {\r\n      if (e.key === \"userData\") {\r\n        updateUserData();\r\n      }\r\n    };\r\n\r\n    // Escuchar evento personalizado (cambios en la misma pestaña)\r\n    const handleCustomEvent = () => {\r\n      updateUserData();\r\n    };\r\n\r\n    // Agregar listeners\r\n    window.addEventListener(\"storage\", handleStorageChange);\r\n    window.addEventListener(\"userDataChanged\", handleCustomEvent);\r\n\r\n    // Limpiar listeners al desmontar\r\n    return () => {\r\n      window.removeEventListener(\"storage\", handleStorageChange);\r\n      window.removeEventListener(\"userDataChanged\", handleCustomEvent);\r\n    };\r\n  }, []);\r\n\r\n  const toggleCategory = (categoryId: number) => {\r\n    setExpandedCategories(prev => \r\n      prev.includes(categoryId) \r\n        ? prev.filter(id => id !== categoryId)\r\n        : [...prev, categoryId]\r\n    );\r\n  };\r\n\r\n  const handleCategoryClick = (categoryName: string) => {\r\n    setCategory(categoryName);\r\n    setIsOpen(false);\r\n    router.push('/products');\r\n  };\r\n\r\n  const renderCategories = (cats: Category[], level: number = 0) => {\r\n    return cats.map((category) => (\r\n      <div key={category.id} className=\"w-full\">\r\n        <div \r\n          className={`flex w-full space-x-2 items-center cursor-pointer hover:bg-gray-50 p-2 rounded-md transition-colors ${\r\n            level > 0 ? 'ml-4' : ''\r\n          }`}\r\n          onClick={() => {\r\n            if (category.hijos && category.hijos.length > 0) {\r\n              toggleCategory(category.id);\r\n            } else {\r\n              handleCategoryClick(category.name);\r\n            }\r\n          }}\r\n        >\r\n          {category.hijos && category.hijos.length > 0 ? (\r\n            <span className=\"w-4 h-4\">\r\n              {expandedCategories.includes(category.id) ? (\r\n                <ChevronDown className=\"w-4 h-4\" />\r\n              ) : (\r\n                <ChevronRight className=\"w-4 h-4\" />\r\n              )}\r\n            </span>\r\n          ) : (\r\n            <span className=\"w-4 h-4\"></span>\r\n          )}\r\n          <span className=\"flex-1\">{category.name}</span>\r\n        </div>\r\n        \r\n        {category.hijos && category.hijos.length > 0 && expandedCategories.includes(category.id) && (\r\n          <div className=\"ml-4 border-l border-gray-200\">\r\n            {renderCategories(category.hijos, level + 1)}\r\n          </div>\r\n        )}\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {userData && (\r\n        <Link\r\n          href=\"/checkout\"\r\n          className=\"relative w-6 h-6 sm:hidden hover:scale-125 duration-300\"\r\n        >\r\n          <ShoppingCart />\r\n          {amount > 0 && (\r\n            <div className=\"absolute -right-2 -top-4 px-1 bg-red-300 text-red-700 rounded-md\">\r\n              {amount}\r\n            </div>\r\n          )}\r\n        </Link>\r\n      )}\r\n      <div className=\"flex sm:hidden\">\r\n        <button\r\n          className=\"w-6 h-6 hover:scale-125 duration-300\"\r\n          onClick={() => setIsOpen(!isOpen)}\r\n        >\r\n          <Menu />\r\n        </button>\r\n\r\n        <AnimatePresence>\r\n          {isOpen && (\r\n            <motion.div\r\n              initial={{ x: \"100%\" }}\r\n              animate={{ x: 0 }}\r\n              exit={{ x: \"100%\" }}\r\n              transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\r\n              className=\"flex flex-col fixed top-0 right-0 bg-white rounded-l-lg h-screen w-[80vw] p-4 text-[#022953] space-y-4 text-base z-50 overflow-y-auto\"\r\n            >\r\n              <div className=\"flex w-full\">\r\n                <h3 className=\"text-xl font-bold\">Menú</h3>\r\n                <button\r\n                  className=\"ml-auto w-6 h-6\"\r\n                  onClick={() => setIsOpen(false)}\r\n                >\r\n                  <X />\r\n                </button>\r\n              </div>\r\n              <hr className=\"border-1 border-gray-200\" />\r\n              <Link\r\n                href=\"/\"\r\n                className=\"flex w-full space-x-2\"\r\n                onClick={() => setIsOpen(false)}\r\n              >\r\n                <span>\r\n                  <House />\r\n                </span>\r\n                <span>Inicio</span>\r\n              </Link>\r\n              <hr className=\"border-1 border-gray-200\" />\r\n              \r\n              {userData && (\r\n                <>\r\n                  <Link\r\n                    href=\"/\"\r\n                    className=\"flex w-full space-x-2\"\r\n                    onClick={() => handleLogout()}\r\n                  >\r\n                    <span>\r\n                      <LogOut />\r\n                    </span>\r\n                    <span>Cerrar sesión</span>\r\n                  </Link>\r\n                  <Link\r\n                    href=\"/account\"\r\n                    className=\"flex w-full space-x-2\"\r\n                    onClick={() => setIsOpen(false)}\r\n                  >\r\n                    <span>\r\n                      <User />\r\n                    </span>\r\n                    <span>Mi cuenta</span>\r\n                  </Link>\r\n                  <Link\r\n                    href={`/record?id=${\r\n                      JSON.parse(localStorage.getItem(\"userData\") || \"{}\")\r\n                        .userId || null\r\n                    }`}\r\n                    className=\"flex w-full space-x-2\"\r\n                    onClick={() => setIsOpen(false)}\r\n                  >\r\n                    <span>\r\n                      <Package />\r\n                    </span>\r\n                    <span>Mis pedidos</span>\r\n                  </Link>\r\n                </>\r\n              )}\r\n              {!userData && (\r\n                <Link\r\n                  href=\"/login\"\r\n                  className=\"flex w-full space-x-2\"\r\n                  onClick={() => setIsOpen(false)}\r\n                >\r\n                  <span>\r\n                    <LogIn />\r\n                  </span>\r\n                  <span>Iniciar sesión</span>\r\n                </Link>\r\n              )}\r\n              <hr className=\"border-1 border-gray-200\" />\r\n              <Link\r\n                href=\"/products\"\r\n                className=\"flex w-full space-x-2\"\r\n                onClick={() => {\r\n                  setIsOpen(false);\r\n                  setCategory(\"\");\r\n                }}\r\n              >\r\n                <span>\r\n                  <WashingMachine />\r\n                </span>\r\n                <span>Productos</span>\r\n              </Link>\r\n              \r\n              {/* Sección de Categorías Expandible */}\r\n              <div \r\n                className=\"flex w-full space-x-2 items-center font-semibold text-[#022953] cursor-pointer hover:bg-gray-50 rounded-md transition-colors\"\r\n                onClick={() => setCategoriesSectionExpanded(!categoriesSectionExpanded)}\r\n              >\r\n                <span>\r\n                  <Grid3X3 />\r\n                </span>\r\n                <span className=\"flex-1\">Categorías</span>\r\n                <span className=\"w-4 h-4\">\r\n                  {categoriesSectionExpanded ? (\r\n                    <ChevronDown className=\"w-4 h-4\" />\r\n                  ) : (\r\n                    <ChevronRight className=\"w-4 h-4\" />\r\n                  )}\r\n                </span>\r\n              </div>\r\n              \r\n              <AnimatePresence>\r\n                {categoriesSectionExpanded && (\r\n                  <motion.div \r\n                    initial={{ height: 0, opacity: 0 }}\r\n                    animate={{ height: \"auto\", opacity: 1 }}\r\n                    exit={{ height: 0, opacity: 0 }}\r\n                    transition={{ duration: 0.2 }}\r\n                    className=\"space-y-1 overflow-hidden h-full overflow-y-auto categories-scroll\"\r\n                  >\r\n                    {renderCategories(categories)}\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n              \r\n              {userData && (\r\n                <Link\r\n                  href=\"/checkout\"\r\n                  className=\"flex w-full space-x-2\"\r\n                  onClick={() => setIsOpen(false)}\r\n                >\r\n                  <span>\r\n                    <ShoppingCart />\r\n                  </span>\r\n                  <span>Carrito</span>\r\n                </Link>\r\n              )}\r\n              {/*\r\n                <hr className=\"border-1 border-gray-200\" />\r\n                <Link\r\n                  href=\"/about\"\r\n                  className=\"flex w-full space-x-2\"\r\n                  onClick={() => setIsOpen(false)}\r\n                >\r\n                  <span>\r\n                    <Info />\r\n                  </span>\r\n                  <span>Sobre nosotros</span>\r\n                </Link>\r\n                <Link\r\n                  href=\"/help\"\r\n                  className=\"flex w-full space-x-2\"\r\n                  onClick={() => setIsOpen(false)}\r\n                >\r\n                  <span>\r\n                    <HandHelping />\r\n                  </span>\r\n                  <span>Ayuda</span>\r\n                </Link>\r\n                <Link\r\n                  href=\"/contact\"\r\n                  className=\"flex w-full space-x-2\"\r\n                  onClick={() => setIsOpen(false)}\r\n                >\r\n                  <span>\r\n                    <Phone />\r\n                  </span>\r\n                  <span>Contáctenos</span>\r\n                </Link> */}\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1225, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/fadiar-shop/src/components/UserButton.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { User, ShieldUser, LogOut } from \"lucide-react\";\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\nconst handleLogout = () => {\r\n  localStorage.removeItem(\"userData\");\r\n  window.dispatchEvent(new Event(\"userDataChanged\"));\r\n};\r\n\r\nexport default function UserButton() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const buttonRef = useRef<HTMLButtonElement>(null);\r\n  const popoverRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      // Verificar si el clic fue fuera del botón y del popover\r\n      if (\r\n        buttonRef.current &&\r\n        !buttonRef.current.contains(event.target as Node) &&\r\n        popoverRef.current &&\r\n        !popoverRef.current.contains(event.target as Node)\r\n      ) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n\r\n    if (isOpen) {\r\n      document.addEventListener(\"click\", handleClickOutside);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener(\"click\", handleClickOutside);\r\n    };\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <div className=\"hidden sm:block\">\r\n      <button\r\n        ref={buttonRef}\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"hover:scale-125 duration-300\"\r\n      >\r\n        <User />\r\n      </button>\r\n\r\n      <AnimatePresence>\r\n        {isOpen && (\r\n          <motion.div\r\n            ref={popoverRef}\r\n            initial={{ opacity: 0, scale: 0.95, y: -10 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.95, y: -10 }}\r\n            transition={{ duration: 0.2 }}\r\n            className=\"flex flex-col absolute right-12 top-16 bg-white rounded-md shadow-lg p-4 w-48 text-[#022953] space-y-4\"\r\n          >\r\n            <div className=\"flex h-full items-center space-x-2 hover:scale-110 transition-all duration-300\">\r\n              <ShieldUser />\r\n              <Link href=\"/account\">Mi cuenta</Link>\r\n            </div>\r\n            <Link\r\n              href=\"/\"\r\n              className=\"flex items-center space-x-2 hover:scale-110 transition-all duration-300\"\r\n              onClick={handleLogout}\r\n            >\r\n              <LogOut />\r\n              <span>Cerrar sesión</span>\r\n            </Link>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAAA;;;AALA;;;;;AAOA,MAAM,eAAe;IACnB,aAAa,UAAU,CAAC;IACxB,OAAO,aAAa,CAAC,IAAI,MAAM;AACjC;AAEe,SAAS;;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,YAAY,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAqB;IAC5C,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAE1C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACR,MAAM;2DAAqB,CAAC;oBAC1B,yDAAyD;oBACzD,IACE,UAAU,OAAO,IACjB,CAAC,UAAU,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,KACxC,WAAW,OAAO,IAClB,CAAC,WAAW,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GACzC;wBACA,UAAU;oBACZ;gBACF;;YAEA,IAAI,QAAQ;gBACV,SAAS,gBAAgB,CAAC,SAAS;YACrC;YAEA;wCAAO;oBACL,SAAS,mBAAmB,CAAC,SAAS;gBACxC;;QACF;+BAAG;QAAC;KAAO;IAEX,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,KAAK;gBACL,SAAS,IAAM,UAAU,CAAC;gBAC1B,WAAU;0BAEV,cAAA,6LAAC,qMAAA,CAAA,OAAI;;;;;;;;;;0BAGP,6LAAC,4LAAA,CAAA,kBAAe;0BACb,wBACC,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;oBACT,KAAK;oBACL,SAAS;wBAAE,SAAS;wBAAG,OAAO;wBAAM,GAAG,CAAC;oBAAG;oBAC3C,SAAS;wBAAE,SAAS;wBAAG,OAAO;wBAAG,GAAG;oBAAE;oBACtC,MAAM;wBAAE,SAAS;wBAAG,OAAO;wBAAM,GAAG,CAAC;oBAAG;oBACxC,YAAY;wBAAE,UAAU;oBAAI;oBAC5B,WAAU;;sCAEV,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,qNAAA,CAAA,aAAU;;;;;8CACX,6LAAC,+JAAA,CAAA,UAAI;oCAAC,MAAK;8CAAW;;;;;;;;;;;;sCAExB,6LAAC,+JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAU;4BACV,SAAS;;8CAET,6LAAC,6MAAA,CAAA,SAAM;;;;;8CACP,6LAAC;8CAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpB;GAhEwB;KAAA","debugId":null}},
    {"offset": {"line": 1390, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/fadiar-shop/src/components/Navbar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport UserButton from \"@/components/UserButton\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useCart } from \"@/store/Cart\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { useFilters } from \"@/store/Filters\";\r\n\r\nexport default function Navbar() {\r\n  const [userData, setUserData] = useState<string | null>(null);\r\n  const setAmount = useCart((state) => state.setAmount);\r\n  const { amount } = useCart();\r\n  const pathname = usePathname(); // Obtener la ruta actual\r\n  const setCategory = useFilters((state) => state.setCategory);\r\n\r\n  const fetchCartItems = async () => {\r\n    const userData = JSON.parse(localStorage.getItem(\"userData\") || \"{}\");\r\n\r\n    if (!userData) {\r\n      console.log(\"No tengo datos\");\r\n      return {};\r\n    }\r\n\r\n    try {\r\n      const body = JSON.stringify({\r\n        id_user_action: userData.userId,\r\n        id_user: userData.userId,\r\n        comisiones: false,\r\n      });\r\n\r\n      const response = await fetch(\r\n        `${process.env.NEXT_PUBLIC_API_URL}/obtener_productos_carrito`,\r\n        {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: body,\r\n        },\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Error al cargar el carrito\");\r\n      }\r\n\r\n      const data = await response.json();\r\n      //console.log(data);\r\n      //console.log(\"aaaaaaaaaaaaaaaa\");\r\n      setAmount(\r\n        data.carrito.reduce((sum: any, item: any) => sum + item.en_carrito, 0),\r\n      );\r\n      return data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCartItems();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Función para actualizar los datos\r\n    const updateUserData = () => {\r\n      setUserData(localStorage.getItem(\"userData\"));\r\n    };\r\n\r\n    // Ejecutar al montar el componente\r\n    updateUserData();\r\n\r\n    // Escuchar eventos de almacenamiento (cambios en otras pestañas)\r\n    const handleStorageChange = (e: StorageEvent) => {\r\n      if (e.key === \"userData\") {\r\n        updateUserData();\r\n      }\r\n    };\r\n\r\n    // Escuchar evento personalizado (cambios en la misma pestaña)\r\n    const handleCustomEvent = () => {\r\n      updateUserData();\r\n    };\r\n\r\n    // Agregar listeners\r\n    window.addEventListener(\"storage\", handleStorageChange);\r\n    window.addEventListener(\"userDataChanged\", handleCustomEvent);\r\n\r\n    // Limpiar listeners al desmontar\r\n    return () => {\r\n      window.removeEventListener(\"storage\", handleStorageChange);\r\n      window.removeEventListener(\"userDataChanged\", handleCustomEvent);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex z-10 h-full items-center justify-end text-white space-x-4 text-sm\">\r\n      {userData ? (\r\n        <>\r\n          <Link\r\n            href=\"/\"\r\n            className={`hidden sm:block relative hover:text-blue-500 hover:underline transition-colors ${\r\n              pathname === \"/\" ? \"font-bold\" : \"\"\r\n            }`}\r\n          >\r\n            Inicio\r\n          </Link>\r\n          <Link\r\n            href=\"/products\"\r\n            onClick={() => setCategory(\"\")}\r\n            className={`hidden sm:block relative hover:text-blue-500 hover:underline transition-colors ${\r\n              pathname.startsWith(\"/products\") ? \"font-bold\" : \"\"\r\n            }`}\r\n          >\r\n            Productos\r\n          </Link>\r\n          <Link\r\n            href=\"/checkout\"\r\n            className={`hidden sm:block relative hover:text-blue-500 hover:underline transition-colors ${\r\n              pathname === \"/checkout/\" ? \"font-bold\" : \"\"\r\n            }`}\r\n          >\r\n            Carrito\r\n            {amount > 0 && (\r\n              <div className=\"absolute -right-2 -top-4 px-1 bg-red-300 text-red-700 rounded-md\">\r\n                {amount}\r\n              </div>\r\n            )}\r\n          </Link>\r\n          <Link\r\n            href={`/record?id=${\r\n              JSON.parse(localStorage.getItem(\"userData\") || \"{}\").userId ||\r\n              null\r\n            }`}\r\n            className={`hidden sm:block whitespace-nowrap hover:text-blue-500 hover:underline transition-colors ${\r\n              pathname.startsWith(\"/record\") ? \"font-bold\" : \"\"\r\n            }`}\r\n          >\r\n            Mis Pedidos\r\n          </Link>\r\n          <UserButton />\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Link\r\n            href=\"/\"\r\n            className={`hidden sm:block relative hover:text-blue-500 hover:underline transition-colors ${\r\n              pathname === \"/\" ? \"font-bold\" : \"\"\r\n            }`}\r\n          >\r\n            Inicio\r\n          </Link>\r\n          <Link\r\n            href=\"/products\"\r\n            className={`hidden sm:block relative hover:text-blue-500 hover:underline transition-colors ${\r\n              pathname.startsWith(\"/products\") ? \"font-bold\" : \"\"\r\n            }`}\r\n          >\r\n            Productos\r\n          </Link>\r\n          <Link\r\n            href=\"/login\"\r\n            className={`hidden sm:block hover:text-blue-500 hover:underline transition-colors whitespace-nowrap ${\r\n              pathname === \"/login\" ? \"font-bold\" : \"\"\r\n            }`}\r\n          >\r\n            Iniciar sesión\r\n          </Link>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1607, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/fadiar-shop/src/components/Header.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport SearchBar from \"@/components/SearchBar\";\r\nimport BurgerMenu from \"@/components/BurguerMenu\";\r\nimport Navbar from \"@/components/Navbar\";\r\n\r\nexport default function Header() {\r\n  const pathname = usePathname();\r\n  \r\n  // Rutas donde el header debe estar oculto\r\n  const hiddenRoutes = ['/login', '/register', '/recovery', '/verify'];\r\n  \r\n  // Normalizar el pathname removiendo la barra final si existe\r\n  const normalizedPathname = pathname.endsWith('/') && pathname !== '/' \r\n    ? pathname.slice(0, -1) \r\n    : pathname;\r\n  \r\n  // Si la ruta actual está en la lista de rutas ocultas, no renderizar el header\r\n  if (hiddenRoutes.includes(normalizedPathname)) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <header className=\"w-full sticky top-0 left-0 z-50\">\r\n      {/* Fondo degradado */}\r\n      <div\r\n        className=\"absolute inset-0 w-full h-full z-0\"\r\n        style={{\r\n          background: \"linear-gradient(90deg, #011d30, #1a2d52)\",\r\n        }}\r\n      />\r\n\r\n      {/* Contenido encima del fondo */}\r\n      <div className=\"relative flex w-full h-22 px-4 sm:px-8 space-x-4 lg:space-x-8 items-center z-10\">\r\n        <Link href=\"/\" className=\"flex h-full items-center md:p-0 py-2\">\r\n          <Image\r\n            src=\"/logo.png\"\r\n            alt=\"logo\"\r\n            width={200}\r\n            height={200}\r\n            className=\"hidden md:block\"\r\n          />\r\n          <Image\r\n            src=\"/favicon.png\"\r\n            alt=\"logo\"\r\n            width={60}\r\n            height={60}\r\n            className=\"md:hidden\"\r\n          />\r\n        </Link>\r\n\r\n        <SearchBar />\r\n\r\n        <div className=\"flex h-full items-center justify-end text-white space-x-4 text-sm ml-auto\">\r\n          <Navbar />\r\n          <BurgerMenu />\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AASe,SAAS;;IACtB,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAE3B,0CAA0C;IAC1C,MAAM,eAAe;QAAC;QAAU;QAAa;QAAa;KAAU;IAEpE,6DAA6D;IAC7D,MAAM,qBAAqB,SAAS,QAAQ,CAAC,QAAQ,aAAa,MAC9D,SAAS,KAAK,CAAC,GAAG,CAAC,KACnB;IAEJ,+EAA+E;IAC/E,IAAI,aAAa,QAAQ,CAAC,qBAAqB;QAC7C,OAAO;IACT;IAEA,qBACE,6LAAC;QAAO,WAAU;;0BAEhB,6LAAC;gBACC,WAAU;gBACV,OAAO;oBACL,YAAY;gBACd;;;;;;0BAIF,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,+JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAI,WAAU;;0CACvB,6LAAC,gIAAA,CAAA,UAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;;;;;;0CAEZ,6LAAC,gIAAA,CAAA,UAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;;;;;;;;;;;;kCAId,6LAAC,kIAAA,CAAA,UAAS;;;;;kCAEV,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,+HAAA,CAAA,UAAM;;;;;0CACP,6LAAC,oIAAA,CAAA,UAAU;;;;;;;;;;;;;;;;;;;;;;;AAKrB;GAtDwB;;QACL,qIAAA,CAAA,cAAW;;;KADN","debugId":null}},
    {"offset": {"line": 1744, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/fadiar-shop/src/providers/AuthProvider.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { SessionProvider } from 'next-auth/react';\r\nimport { ReactNode } from 'react';\r\n\r\ninterface AuthProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport function AuthProvider({ children }: AuthProviderProps) {\r\n  return <SessionProvider>{children}</SessionProvider>;\r\n}"],"names":[],"mappings":";;;;AAEA;AAFA;;;AASO,SAAS,aAAa,EAAE,QAAQ,EAAqB;IAC1D,qBAAO,6LAAC,iJAAA,CAAA,kBAAe;kBAAE;;;;;;AAC3B;KAFgB","debugId":null}}]
}