(()=>{var e={};e.id=279,e.ids=[279],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5748:(e,a,r)=>{"use strict";r.d(a,{A:()=>s});let s=(0,r(62688).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13964:(e,a,r)=>{"use strict";r.d(a,{A:()=>s});let s=(0,r(62688).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26828:(e,a,r)=>{Promise.resolve().then(r.bind(r,54787))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},54787:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Projects\\\\fadiar-shop\\\\src\\\\app\\\\checkout\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Projects\\fadiar-shop\\src\\app\\checkout\\page.tsx","default")},55046:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>j});var s=r(60687),t=r(43210),i=r(5748),l=r(96474),n=r(62688);let c=(0,n.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var o=r(30474),d=r(11465);function u({item:e,location:a,currencies:r,onTotalChange:n}){let[u,x]=(0,t.useState)(e.en_carrito),[m,p]=(0,t.useState)(!0),[h,f]=(0,t.useState)(e.en_carrito),[g,j]=(0,t.useState)(!1),v=(0,d._)(e=>e.setAmount),{amount:b}=(0,d._)();function N(e){e==u-1?v(b-1):e==u+1&&v(b+1),x(e),e<=0&&p(!1),j(!0),setTimeout(()=>{j(!1)},3e3)}(0,t.useMemo)(()=>{let s=0;return"CU"===a&&"CUP"===e.prices[0][2]?s=e.prices[0][3]||e.prices[0][1]:"CU"!==a&&"USD"===e.prices[0][2]?s=e.prices[0][3]||e.prices[0][1]:"CU"===a&&"USD"===e.prices[0][2]?s=(e.prices[0][3]||e.prices[0][1])*r[1]?.value||0:"CU"!==a&&"CUP"===e.prices[0][2]&&(s=Math.ceil((e.prices[0][3]||e.prices[0][1])/r[1]?.value*100)/100||0),s},[a,r,e.prices]);let y=async()=>{try{j(!0);let a=JSON.stringify({id_user_action:JSON.parse(localStorage.getItem("userData")||"{}").userId||null,id_user:JSON.parse(localStorage.getItem("userData")||"{}").userId||null,id_product:e.id});if(!(await fetch("https://app.fadiar.com/api/eliminar_producto_carrito",{method:"POST",headers:{"Content-Type":"application/json"},body:a})).ok)throw Error("Error al eliminar el producto del carrito");n&&n(0),v(b-u),p(!1),window.dispatchEvent(new Event("cartDataChanged")),console.log("Producto eliminado exitosamente")}catch(e){console.error("Error eliminando el producto del carrito:",e)}finally{j(!1)}};return(0,s.jsx)(s.Fragment,{children:m&&(0,s.jsxs)("div",{className:"flex w-full h-28 bg-white",children:[(0,s.jsx)("div",{className:"flex-shrink-0 h-full aspect-square overflow-hidden p-1",children:(0,s.jsx)(o.default,{src:`https://app.fadiar.com/api/${e.img}`,alt:e.name,width:200,height:200,className:"w-full h-full object-cover"})}),(0,s.jsxs)("div",{className:"flex flex-col w-full max-w-full text-sm p-2 text-[#9f9f9f]",children:[(0,s.jsx)("span",{className:"flex w-full font-semibold",children:e.name}),(0,s.jsxs)("span",{className:"flex w-full text-sm",children:["Marca ",e.brand]}),(0,s.jsxs)("div",{className:"flex flex-1",children:[(0,s.jsxs)("span",{className:"flex font-bold mt-auto text-[#022953]",children:["CU"===a&&"CUP"===e.prices[0][2]&&(0,s.jsxs)(s.Fragment,{children:[e.prices[0][3]||e.prices[0][1]," CUP"]}),"CU"!==a&&"USD"===e.prices[0][2]&&(0,s.jsxs)(s.Fragment,{children:[e.prices[0][3]||e.prices[0][1]," USD"]}),"CU"===a&&"USD"===e.prices[0][2]&&(0,s.jsxs)(s.Fragment,{children:[(e.prices[0][3]||e.prices[0][1])*r[1].value," CUP"]}),"CU"!==a&&"CUP"===e.prices[0][2]&&(0,s.jsxs)(s.Fragment,{children:[Math.ceil((e.prices[0][3]||e.prices[0][1])/r[1].value*100)/100," ","USD"]})]}),(0,s.jsxs)("div",{className:"flex ml-auto items-end",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 mr-2",children:[(0,s.jsx)("button",{onClick:()=>N(u-1),className:`text-[#022953] rounded-sm transition-all duration-300 ${!1===g?"hover:text-white hover:bg-[#022953]":"cursor-wait"}`,disabled:g,children:(0,s.jsx)(i.A,{})}),(0,s.jsx)("input",{type:"number",className:"flex w-16 border-gray-300 border-2 rounded-sm text-[#022953] text-center",value:u,onChange:()=>N(u),disabled:!0}),(0,s.jsx)("button",{onClick:()=>N(u+1),className:`text-[#022953] rounded-sm transition-all duration-300 ${!1===g?"hover:text-white hover:bg-[#022953]":"cursor-wait"}`,disabled:g,children:(0,s.jsx)(l.A,{})})]}),(0,s.jsx)("button",{onClick:y,className:`text-red-500 hover:text-red-600 rounded-sm transition-all duration-300 p-1 ${!1===g?"hover:bg-red-50":"cursor-wait"}`,disabled:g,title:"Eliminar producto",children:(0,s.jsx)(c,{size:14})})]})]})]})]})})}let x=(0,n.A)("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);var m=r(13964),p=r(11860),h=r(16189),f=r(88016);let g={"Pinar del R\xedo":["Pinar del R\xedo","Consolaci\xf3n del Sur","Guane","La Palma","Los Palacios","Mantua","Minas de Matahambre","San Juan y Mart\xednez","San Luis","Sandino","Vi\xf1ales"],Artemisa:["Artemisa","Alqu\xedzar","Bauta","Caimito","Guanajay","G\xfcira de Melena","Mariel","San Antonio de los Ba\xf1os","Bah\xeda Honda","Candelaria","San Crist\xf3bal"],"La Habana":["Arroyo Naranjo","Boyeros","Centro Habana","Cerro","Cotorro","Diez de Octubre","Guanabacoa","Habana del Este","Habana Vieja","La Lisa","Marianao","Playa","Plaza de la Revoluci\xf3n","Regla","San Miguel del Padr\xf3n"],Mayabeque:["Bataban\xf3","Bejucal","G\xfcines","Jaruco","Madruga","Melena del Sur","Nueva Paz","Quivic\xe1n","San Jos\xe9 de las Lajas","Santa Cruz del Norte"],Matanzas:["C\xe1rdenas","Ci\xe9naga de Zapata","Col\xf3n","Jag\xfcey Grande","Jovellanos","Limonar","Los Arabos","Mart\xed","Matanzas","Pedro Betancourt","Perico","Uni\xf3n de Reyes"],Cienfuegos:["Aguada de Pasajeros","Cienfuegos","Cruces","Cumanayagua","Lajas","Palmira","Rodas"],"Villa Clara":["Caibari\xe9n","Camajuan\xed","Cifuentes","Corralillo","Encrucijada","Manicaragua","Placetas","Quemado de G\xfcines","Ranchuelo","Remedios","Sagua la Grande","Santa Clara","Santo Domingo"],"Sancti Sp\xedritus":["Cabaigu\xe1n","Fomento","Jatibonico","La Sierpe","Sancti Sp\xedritus","Taguasco","Trinidad","Yaguajay"],"Ciego de \xc1vila":["Baragu\xe1","Bolivia","Ciego de \xc1vila","Chambas","Ciro Redondo","Florencia","Majagua","Mor\xf3n","Primero de Enero","Venezuela"],Camagüey:["Camag\xfcey","Carlos Manuel de C\xe9spedes","Esmeralda","Florida","Guaimaro","Jimaguay\xfa","Minas","Najasa","Nuevitas","Santa Cruz del Sur","Sibanic\xfa","Sierra de Cubitas","Vertientes"],"Las Tunas":["Amancio","Colombia","Jes\xfas Men\xe9ndez","Jobabo","Las Tunas","Majibacoa","Manat\xed","Puerto Padre"],Holguín:["Antilla","B\xe1guanos","Banes","Cacocum","Calixto Garc\xeda","Cueto","Frank Pa\xeds","Gibara","Holgu\xedn","Mayar\xed","Moa","Rafael Freyre","Sagua de T\xe1namo","Urbano Noris"],Granma:["Bartolom\xe9 Mas\xf3","Bayamo","Buey Arriba","Campechuela","Cauto Cristo","Guisa","Jiguan\xed","Manzanillo","Media Luna","Niquero","Pil\xf3n","R\xedo Cauto","Yara"],"Santiago de Cuba":["Contramaestre","Guam\xe1","Mella","Palma Soriano","San Luis","Santiago de Cuba","Segundo Frente","Songo - La Maya","Tercer Frente"],Guantánamo:["Baracoa","Caimanera","El Salvador","Guant\xe1namo","Im\xedas","Mais\xed","Manuel Tames","Niceto P\xe9rez","San Antonio del Sur","Yateras"],"Isla de la Juventud":["Isla de la Juventud"]};function j(){let e=(0,h.useRouter)(),a=(0,d._)(e=>e.setAmount),r=(0,f.d)(e=>e.setObject),[i,l]=(0,t.useState)(null),[n,c]=(0,t.useState)([]),[o,j]=(0,t.useState)("US"),[v,b]=(0,t.useState)({}),[N,y]=(0,t.useState)(0),[C,w]=(0,t.useState)(!1),[S,P]=(0,t.useState)(!1),[U,M]=(0,t.useState)(!1),[k,_]=(0,t.useState)(""),[E,A]=(0,t.useState)(!0),[D,$]=(0,t.useState)([]),[L,F]=(0,t.useState)(null),[G,z]=(0,t.useState)({provincia:"",municipio:"",direccionExacta:"",phone:"",ci_cliente:""}),[T,R]=(0,t.useState)({provincia:!1,municipio:!1,direccionExacta:!1,phone:!1,ci_cliente:!1,addressSelected:!1}),[q,J]=(0,t.useState)(0),B=Object.values(v).reduce((e,a)=>e+a,0),H=5*(1===N),O=B+H,I=async()=>{if(M(!0),!(""!==G.provincia.trim()&&""!==G.municipio.trim()&&(0===N||""!==(G.direccionExacta||"").trim())&&""!==G.phone.trim()&&/^\d{11}$/.test(G.ci_cliente))){_("Por favor llene todos los campos obligatorios correctamente");return}_("");try{let s={},t=s.name||"",l=`${s.last1||""} ${s.last2||""}`.trim();0===N&&(G.direccionExacta=null);let n={...G,name_cliente:t,last_names:l,cellphone_cliente:G.phone,id_user_action:s.userId,id_user:s.userId,gestor_id:s.userId,delivery:N,total:O,location:o,items:i?.map(e=>({id_product:e.id,count:e.count,price:e.prices[0][3]||e.prices[0][1],currency:e.prices[0][2]}))};console.log("orderData"),console.log(n);let c=await fetch("https://app.fadiar.com/api/add_order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),d=await c.json();if(r(d),!c.ok){_(d.message||"Error al comprar");return}if(!d||!d.order||!d.order.date){console.error("Unexpected API response structure:",d),_("Formato de respuesta inesperado del servidor");return}a(0);let u=new URLSearchParams({date:d.order.date,...G.direccionExacta&&{direccionExacta:`${G.direccionExacta}, ${G.municipio}, ${G.provincia}`},price:O.toFixed(2),currency:"USD"}).toString();e.push(`/checkout/ticket?${u}`)}catch(e){_(e instanceof Error?e.message:"Error desconocido")}},V=(e,a)=>{b(r=>({...r,[e]:a}))};return null===i?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("div",{className:"text-gray-600 font-medium",children:"Cargando tu carrito..."})]})}):0===i.length?(0,s.jsx)("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-88px)] p-4 bg-white",children:(0,s.jsxs)("div",{className:"text-center max-w-md p-8 bg-[#f4f4f4] rounded-lg shadow-lg",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-[#022953] mb-4",children:"Tu carrito est\xe1 vac\xedo"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"A\xfan no has agregado productos a tu carrito. Comienza a explorar nuestros productos y encuentra lo que necesitas."}),(0,s.jsx)("button",{onClick:()=>e.push("/products"),className:"w-full bg-[#022953] text-white font-bold py-3 px-6 rounded hover:bg-opacity-90 transition-colors",children:"Ver productos"})]})}):(0,s.jsx)("div",{className:"flex h-full w-full min-h-[calc(100vh-88px)] justify-center p-4 bg-white",children:(0,s.jsxs)("div",{className:"flex flex-col bg-[#f4f4f4] w-120 md:w-1/2 sm:w-2/3 rounded-lg shadow-lg sm:p-10 p-4 gap-4 sm:gap-6",children:[(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)("h1",{className:"flex font-bold text-xl sm:text-3xl text-[#022953] w-full sm:justify-start justify-center mb-6",children:"Resumen del carrito"})}),(0,s.jsx)("div",{className:"flex flex-col gap-4 sm:gap-6",children:i.map(e=>(0,s.jsx)(u,{location:o,item:e,currencies:n,onTotalChange:a=>V(e.id,a)},e.id))}),(0,s.jsxs)("div",{className:"flex flex-col w-full gap-2 mt-6",children:[(0,s.jsxs)("div",{className:"flex w-full items-center",children:[(0,s.jsx)("span",{className:"flex text-[#9a9a9a]",children:"Subtotal"}),(0,s.jsxs)("span",{className:"flex ml-auto text-[#022953] text-lg",children:[B.toFixed(2)," ","CU"===o?"CUP":"USD"]})]}),1===N&&(0,s.jsxs)("div",{className:"flex w-full items-center",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-[#9a9a9a]",children:"Entrega a domicilio"}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:"*El precio puede variar seg\xfan la distancia. Nos pondremos en contacto con usted."})]}),(0,s.jsxs)("span",{className:"flex ml-auto text-[#022953] text-lg",children:["+",H.toFixed(2)," ","CU"===o?"CUP":"USD"]})]}),(0,s.jsxs)("div",{className:"flex w-full items-center pt-2 border-t border-gray-200 mt-2",children:[(0,s.jsx)("span",{className:"flex text-[#9a9a9a] font-bold",children:"Total a pagar"}),(0,s.jsxs)("span",{className:"flex ml-auto text-[#022953] text-2xl font-bold",children:[O.toFixed(2)," ","CU"===o?"CUP":"USD"]})]})]}),(0,s.jsx)("hr",{className:"flex h-px border-[#9a9a9a] w-full"}),(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("span",{className:"flex text-[#9a9a9a]",children:"T\xfa"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"flex rounded-full bg-[#9a9a9a] w-12 h-12 items-center justify-center text-white p-1",children:(0,s.jsx)(x,{className:"flex w-full h-full"})}),(0,s.jsx)("span",{className:"flex text-[#9a9a9a]",children:""})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-[#9a9a9a]",children:"N\xfamero de tel\xe9fono del receptor"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"tel",value:G.phone,onChange:e=>{let a=e.target.value.replace(/[^0-9+\s-]/g,"");z({...G,phone:a})},placeholder:"Ej: 55555555 o +53 55555555",className:`w-full p-2 rounded-md border ${U&&!T.phone&&G.phone?"border-red-500":"border-gray-300"} ${G.phone?T.phone?"border-green-500":"border-red-500":""}`,required:!0}),G.phone&&(0,s.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:T.phone?(0,s.jsx)(m.A,{className:"h-5 w-5 text-green-500"}):(0,s.jsx)(p.A,{className:"h-5 w-5 text-red-500"})})]}),U&&!T.phone&&G.phone&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:"Por favor ingrese un n\xfamero de tel\xe9fono v\xe1lido"})]})]}),(0,s.jsx)("div",{className:"flex flex-col gap-4",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-[#9a9a9a]",children:"Carnet de identidad del receptor"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"text",value:G.ci_cliente||"",onChange:e=>{let a=e.target.value.replace(/[^0-9A-Za-z]/g,"").toUpperCase();z({...G,ci_cliente:a})},placeholder:"Ej: 12345678901",className:`w-full p-2 rounded-md border ${U&&!T.ci_cliente&&G.ci_cliente?"border-red-500":"border-gray-300"} ${G.ci_cliente?T.ci_cliente?"border-green-500":"border-red-500":""}`,required:!0}),G.ci_cliente&&(0,s.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:T.ci_cliente?(0,s.jsx)(m.A,{className:"h-5 w-5 text-green-500"}):(0,s.jsx)(p.A,{className:"h-5 w-5 text-red-500"})})]}),U&&!T.ci_cliente&&G.ci_cliente&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:"Por favor ingrese un carnet de identidad v\xe1lido"})]})}),D.length>0&&(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"useSavedAddress",checked:E,onChange:()=>A(!E),className:"h-4 w-4 rounded border-gray-300 text-[#022953] focus:ring-[#022953]"}),(0,s.jsx)("label",{htmlFor:"useSavedAddress",className:"text-[#9a9a9a] cursor-pointer",children:"Usar una direcci\xf3n guardada"})]}),E&&(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-[#9a9a9a]",children:"Selecciona una direcci\xf3n:"}),(0,s.jsx)("div",{className:"grid gap-2",children:D.map(e=>(0,s.jsxs)("div",{className:`p-3 border rounded-md cursor-pointer transition-colors ${L===e.id?"border-[#022953] bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onClick:()=>{F(e.id),z(a=>({...a,provincia:e.provincia,municipio:e.municipio,direccionExacta:e.direccion||""}))},children:[(0,s.jsx)("p",{className:"font-medium",children:e.direccion}),(0,s.jsxs)("p",{className:"text-sm",children:[e.municipio,", ",e.provincia]})]},e.id))})]})]}),(0,s.jsxs)("div",{className:`flex flex-col gap-4 w-full ${E&&D.length>0?"hidden":""}`,children:[D.length>0&&(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"O ingresa una direcci\xf3n manualmente:"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-[#9a9a9a]",children:"Provincia"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{value:G.provincia,onChange:e=>z({...G,provincia:e.target.value,municipio:""}),className:`w-full p-2 rounded-md border ${G.provincia?"border-green-500":"border-gray-300"}`,children:[(0,s.jsx)("option",{value:"",children:"Seleccione una provincia"}),Object.keys(g).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),G.provincia&&(0,s.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,s.jsx)(m.A,{className:"h-5 w-5 text-green-500"})})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("label",{className:"text-[#9a9a9a]",children:"Municipio"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{value:G.municipio,onChange:e=>z({...G,municipio:e.target.value}),className:`w-full p-2 rounded-md border ${G.municipio?"border-green-500":"border-gray-300"}`,disabled:!G.provincia,children:[(0,s.jsx)("option",{value:"",children:"Seleccione un municipio"}),G.provincia&&g[G.provincia].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),G.municipio&&(0,s.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,s.jsx)(m.A,{className:"h-5 w-5 text-green-500"})})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 mt-4",children:[(0,s.jsxs)("label",{className:`flex items-center justify-between ${"La Habana"===G.provincia?"text-[#9a9a9a]":"text-gray-400"}`,children:[(0,s.jsxs)("span",{className:"flex items-center",children:["\xbfNecesitas entrega a domicilio?","La Habana"!==G.provincia&&(0,s.jsx)("span",{className:"text-xs ml-2",children:"(Disponible solo en La Habana)"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"deliveryCheckbox",checked:1===N,disabled:"La Habana"!==G.provincia,onChange:e=>{let a=e.target.checked;y(+!!a),P(!0),a?w(!0):z(e=>({...e,direccionExacta:""}))},className:`h-5 w-5 rounded border-gray-300 text-[#022953] focus:ring-[#022953] ${"La Habana"===G.provincia?"cursor-pointer":"cursor-not-allowed opacity-50"}`}),1===N&&"La Habana"===G.provincia&&(0,s.jsxs)("span",{className:"text-sm text-gray-600 whitespace-nowrap",children:["+$",H.toFixed(2)," ","CU"===o?"CUP":"USD"]})]})]}),1===N&&"La Habana"===G.provincia&&(0,s.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"*El precio puede variar seg\xfan la ubicaci\xf3n exacta. Nos pondremos en contacto contigo para confirmar el costo final."})]}),(!E||null===L)&&(0,s.jsx)("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${1===N?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,onTransitionEnd:()=>{0===N&&w(!1),P(!1)},style:{visibility:C||S?"visible":"hidden"},children:C&&(0,s.jsxs)("div",{className:"flex flex-col gap-2 w-full pt-2",children:[(0,s.jsx)("label",{className:"text-[#9a9a9a]",children:"Direcci\xf3n exacta"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("textarea",{value:G.direccionExacta||"",onChange:e=>z(a=>({...a,direccionExacta:e.target.value})),required:1===N,placeholder:"Escriba su direcci\xf3n completa aqu\xed (calle, n\xfamero, entre calles, edificio, apartamento, etc.)",className:`w-full p-2 min-h-20 bg-white placeholder:text-left text-left align-top rounded-md border focus:ring-2 focus:ring-[#022953] focus:border-transparent transition-all duration-200 ${U&&1===N&&!G.direccionExacta?"border-red-500":G.direccionExacta?"border-green-500":"border-gray-300"}`}),G.direccionExacta&&(0,s.jsx)("div",{className:"absolute right-3 top-3",children:(0,s.jsx)(m.A,{className:"h-5 w-5 text-green-500"})})]}),U&&1===N&&!G.direccionExacta&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:"Por favor ingrese una direcci\xf3n de entrega v\xe1lida"})]})}),G.provincia&&G.municipio&&(0,s.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,s.jsx)("strong",{children:"Ubicaci\xf3n seleccionada:"})," ",G.municipio,", ",G.provincia,1===N&&G.direccionExacta&&(0,s.jsxs)("span",{className:"block mt-1",children:[(0,s.jsx)("strong",{children:"Direcci\xf3n de entrega:"})," ",G.direccionExacta]})]})}),(0,s.jsxs)("div",{className:"w-full mt-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Resumen del pedido"}),(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,s.jsx)("span",{children:"Subtotal:"}),(0,s.jsxs)("span",{children:["$",B.toFixed(2)," ","CU"===o?"CUP":"USD"]})]}),1===N&&(0,s.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,s.jsx)("span",{children:"Env\xedo:"}),(0,s.jsxs)("span",{children:["$",H.toFixed(2)," ","CU"===o?"CUP":"USD"]})]}),(0,s.jsx)("div",{className:"border-t border-gray-200 my-3"}),(0,s.jsxs)("div",{className:"flex justify-between font-medium",children:[(0,s.jsx)("span",{children:"Total:"}),(0,s.jsxs)("span",{children:["$",(B+(1===N?H:0)).toFixed(2)," ","CU"===o?"CUP":"USD"]})]})]})]}),(0,s.jsx)("div",{className:"hidden w-full h-full bg-blue-500/10 md:p-10 p-4 items-center justify-center text-center md:text-2xl rounded-md text-blue-900",children:"Lo sentimos, no se pueden hacer pedidos temporalmente"}),(0,s.jsx)("div",{className:"flex w-full justify-center",children:(0,s.jsx)("button",{onClick:I,className:"flex w-full md:w-1/2 h-12 bg-[#022953] font-bold text-white items-center justify-center hover:text-lg transition-all duration-300 rounded-md",children:"Confirmar orden"})}),U&&k&&(0,s.jsx)("span",{className:"w-full bg-red-300 font-xs p-2 items-center text-center text-red-700 rounded-md",children:k})]})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70440:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>t});var s=r(31658);let t=async e=>[{type:"image/x-icon",sizes:"24x32",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},73010:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>o});var s=r(65239),t=r(48088),i=r(88170),l=r.n(i),n=r(30893),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(a,c);let o={children:["",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,54787)),"D:\\Projects\\fadiar-shop\\src\\app\\checkout\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,97582)),"D:\\Projects\\fadiar-shop\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["D:\\Projects\\fadiar-shop\\src\\app\\checkout\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},79551:e=>{"use strict";e.exports=require("url")},88016:(e,a,r)=>{"use strict";r.d(a,{d:()=>s});let s=(0,r(26787).v)(e=>({object:null,setObject:a=>e({object:a})}))},90380:(e,a,r)=>{Promise.resolve().then(r.bind(r,55046))},96474:(e,a,r)=>{"use strict";r.d(a,{A:()=>s});let s=(0,r(62688).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};var a=require("../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),s=a.X(0,[447,108,658,242],()=>r(73010));module.exports=s})();