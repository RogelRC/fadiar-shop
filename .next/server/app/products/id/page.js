(()=>{var e={};e.id=697,e.ids=[697],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5748:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29499:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var i=r(37413),s=r(94434),d=r(61120);function l(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Suspense,{children:(0,i.jsx)(s.default,{})}),";"]})}},33873:e=>{"use strict";e.exports=require("path")},39969:(e,t,r)=>{Promise.resolve().then(r.bind(r,94434))},51964:(e,t,r)=>{"use strict";r.d(t,{default:()=>b});var i=r(60687),s=r(30474),d=r(16189),l=r(43210),a=r(11465),o=r(11860),c=r(62688);let n=(0,c.A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var u=r(5748),m=r(96474),x=r(28561);let p=(0,c.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var h=r(85814),f=r.n(h),g=r(75754);function b(){let e=(0,d.useSearchParams)().get("itemId"),t=(0,d.useRouter)(),[r,c]=(0,l.useState)(null),[h,b]=(0,l.useState)("CU"),[j,P]=(0,l.useState)(!1),[y,v]=(0,l.useState)(!1),[N,w]=(0,l.useState)([]),[C,k]=(0,l.useState)([]),[S,A]=(0,l.useState)(!1),U=(0,l.useRef)(null),[_,z]=(0,l.useState)(1),[D,$]=(0,l.useState)(0),[I,M]=(0,l.useState)(!1),[q,E]=(0,l.useState)(!1),R=(0,a._)(e=>e.setAmount),{amount:T}=(0,a._)(),W=[{id:10,oldPrice:50},{id:86,oldPrice:30},{id:53,oldPrice:8},{id:52,oldPrice:12},{id:32,oldPrice:380},{id:30,oldPrice:220},{id:31,oldPrice:300},{id:50,oldPrice:45},{id:90,oldPrice:300},{id:63,oldPrice:25},{id:62,oldPrice:30},{id:61,oldPrice:50},{id:80,oldPrice:300},{id:83,oldPrice:800},{id:85,oldPrice:320},{id:84,oldPrice:560},{id:64,oldPrice:750},{id:48,oldPrice:600},{id:51,oldPrice:40},{id:60,oldPrice:40},{id:54,oldPrice:6},{id:39,oldPrice:80},{id:88,oldPrice:70},{id:87,oldPrice:75},{id:56,oldPrice:20},{id:71,oldPrice:730},{id:34,oldPrice:500},{id:47,oldPrice:320},{id:28,oldPrice:215},{id:9,oldPrice:60},{id:78,oldPrice:50},{id:77,oldPrice:40},{id:58,oldPrice:1600},{id:57,oldPrice:2100},{id:44,oldPrice:1600},{id:45,oldPrice:1800},{id:81,oldPrice:115},{id:82,oldPrice:115},{id:89,oldPrice:25},{id:4,oldPrice:500},{id:5,oldPrice:null},{id:27,oldPrice:260},{id:66,oldPrice:260},{id:93,oldPrice:260},{id:33,oldPrice:290},{id:36,oldPrice:320},{id:1,oldPrice:360},{id:14,oldPrice:35},{id:37,oldPrice:35},{id:23,oldPrice:45},{id:65,oldPrice:30},{id:68,oldPrice:30},{id:67,oldPrice:40},{id:40,oldPrice:50},{id:8,oldPrice:60},{id:74,oldPrice:250},{id:76,oldPrice:570},{id:49,oldPrice:12},{id:55,oldPrice:10},{id:12,oldPrice:45},{id:11,oldPrice:30},{id:35,oldPrice:600},{id:41,oldPrice:750},{id:38,oldPrice:550},{id:69,oldPrice:525},{id:46,oldPrice:340},{id:91,oldPrice:300},{id:29,oldPrice:300},{id:24,oldPrice:200},{id:25,oldPrice:300},{id:26,oldPrice:450},{id:21,oldPrice:375},{id:13,oldPrice:350},{id:7,oldPrice:880},{id:16,oldPrice:670},{id:43,oldPrice:1500},{id:42,oldPrice:1e3},{id:17,oldPrice:35},{id:18,oldPrice:30},{id:6,oldPrice:50},{id:19,oldPrice:50},{id:92,oldPrice:60},{id:70,oldPrice:45},{id:79,oldPrice:45},{id:22,oldPrice:55},{id:73,oldPrice:30},{id:72,oldPrice:35},{id:59,oldPrice:45}].find(e=>e.id===r?.product?.id),G=W?W.oldPrice:null,O=!1,F=e=>{let t=r?.product?.count||1;e>=1&&e<=t&&z(e)},V=async(e,t)=>{if(M(!0),!localStorage.getItem("userData")){P(!0),M(!1);return}try{let r=JSON.parse(localStorage.getItem("userData")||"{}");if(!r.userId){P(!0),M(!1);return}let i=JSON.stringify({id_user_action:parseInt(r.userId),id_user:parseInt(r.userId),id_product:e,count:t});if(!(await fetch("https://app.fadiar.com/api/agregar_producto_carrito",{method:"POST",headers:{"Content-Type":"application/json"},body:i})).ok)throw Error("Failed to add item to cart");R(T+t)}catch(e){console.error("Error adding to cart:",e)}finally{M(!1),F(1)}};if(!e)return(0,i.jsx)("div",{children:"Producto no encontrado."});if(!r)return(0,i.jsx)(g.A,{});let J=r.currencys.currencys,B=r.product.prices[0],H=B[3]||B[1],K=B[2];function X(){return"CU"!==h&&"USD"===K?`${H} USD`:"CU"!==h&&"CUP"===K?(O||(G=Number((G=(G||0)/J[1].value).toFixed(2)),O=!0),`${Math.ceil(H/J[1].value*100)/100} USD`):void 0}return(0,i.jsxs)("div",{className:"flex flex-col gap-y-4 sm:gap-y-8 sm:p-8 p-4 w-full",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 sm:gap-8 gap-4",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsxs)("div",{className:"cursor-zoom-in",onClick:()=>v(!0),children:[0===r.product.count&&(0,i.jsx)("span",{className:"absolute top-0 right-0 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded-bl z-10",children:(0,i.jsx)("span",{className:"",children:"Agotado temporalmente"})}),(0,i.jsx)(s.default,{ref:U,src:`https://app.fadiar.com/api/${r.product.image}`,alt:r.product.name,width:800,height:800,className:"rounded-lg shadow-lg w-full h-auto",priority:!0})]}),y&&(0,i.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4 cursor-zoom-out",onClick:()=>v(!1),children:[(0,i.jsx)("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors",onClick:e=>{e.stopPropagation(),v(!1)},children:(0,i.jsx)(o.A,{size:32})}),(0,i.jsx)("div",{className:"max-w-4xl w-full max-h-[90vh] flex items-center justify-center",children:(0,i.jsx)(s.default,{src:`https://app.fadiar.com/api/${r.product.image}`,alt:r.product.name,width:1200,height:1200,className:"max-w-full max-h-[90vh] object-contain",onClick:e=>e.stopPropagation()})})]}),(0,i.jsxs)("span",{className:"flex relative w-1/2 bg-[#022953] p-2 sm:px-6 text-nowrap text-white font-semibold justify-center sm:justify-end -mt-4",children:["Marca ",r.product.brand]})]}),(0,i.jsxs)("div",{className:"block sm:hidden w-full py-2",children:[(0,i.jsxs)("div",{className:"flex w-full justify-between items-center mb-4",children:[(0,i.jsxs)("div",{className:`${r.product.count>0?"flex flex-col":"hidden"} gap-2`,children:[null!==G&&0!==G&&void 0!==G&&Number(X()?.split(" ")[0])!==G&&(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsxs)("span",{className:"font-semibold text-3xl text-[#022953] font-sans line-through",style:{fontWeight:1e3},children:[G," USD"]}),(0,i.jsxs)("span",{className:"bg-red-600 rounded-xl px-2 py-1 text-white font-bold ml-2",children:["-",Math.round((G-Number(X()?.split(" ")[0]))/G*100),"%"]})]}),(0,i.jsx)("span",{className:"font-semibold text-3xl text-[#022953] font-sans",style:{fontWeight:1e3},children:X()})]}),(0,i.jsxs)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(window.location.href),E(!0),setTimeout(()=>E(!1),2e3)}catch(e){console.error("Error al copiar el enlace:",e)}},className:"p-2 text-[#022953] hover:bg-gray-100 rounded-full transition-colors relative","aria-label":"Compartir producto",title:"Copiar enlace",children:[(0,i.jsx)(n,{className:"w-6 h-6"}),q&&(0,i.jsx)("span",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:"\xa1Enlace copiado!"})]})]}),(0,i.jsxs)("div",{className:`flex items-center justify-between w-full gap-4 ${r?.product?.count===0?"hidden":""}`,children:[(0,i.jsxs)("div",{className:"flex items-center border border-gray-300 overflow-hidden",children:[(0,i.jsx)("button",{onClick:()=>F(_-1),disabled:_<=1,className:"bg-gray-100 h-10 w-10 flex items-center justify-center text-[#022953] disabled:opacity-50 font-extrabold",children:(0,i.jsx)(u.A,{strokeWidth:5,size:16})}),(0,i.jsx)("input",{type:"number",value:_,onChange:e=>F(Number(e.target.value)||1),min:"1",max:r?.product?.count||1,className:"w-12 h-10 text-center border-x border-gray-300 font-extrabold"}),(0,i.jsx)("button",{onClick:()=>F(_+1),disabled:_>=(r?.product?.count||1),className:"bg-gray-100 h-10 w-10 flex items-center justify-center text-[#022953] disabled:opacity-50 font-extrabold",children:(0,i.jsx)(m.A,{strokeWidth:5,size:16})})]}),(0,i.jsx)("button",{onClick:()=>V(r?.product?.id,_),disabled:I||!r?.product?.id,className:`flex-1 h-10 px-4 font-medium text-white ${I?"bg-blue-400":"bg-[#022953] hover:bg-blue-700"} transition-colors duration-200 flex items-center justify-center rounded-sm`,children:I?(0,i.jsxs)("span",{className:"flex items-center",children:[(0,i.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Procesando..."]}):(0,i.jsxs)("span",{className:"flex items-center gap-1 text-sm",children:["A\xf1adir al carrito ",(0,i.jsx)(x.A,{})]})})]})]}),(0,i.jsxs)("div",{className:"flex flex-col w-full self-start bg-white sm:rounded-lg sm:p-6 text-gray-800 sm:shadow-sm sm:border sm:border-gray-200 gap-y-3",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold",children:r.product.name}),(0,i.jsx)("h3",{className:"text-lg font-semibold mt-2",children:"Descripci\xf3n:"}),(0,i.jsx)("p",{className:"mb-2",children:r.product.description}),(0,i.jsx)("h3",{className:"text-lg font-semibold",children:"Propiedades:"}),r.product.specs.map(e=>(0,i.jsxs)("div",{className:"flex justify-between items-center py-1 border-b border-black/20",children:[(0,i.jsxs)("span",{className:"font-medium",children:[e[1],":"]}),(0,i.jsx)("span",{className:"text-right",children:e[2]})]},e[0]))]})]}),(0,i.jsx)("div",{className:"hidden sm:block",children:(0,i.jsxs)("div",{className:`${r.product.count>0?"flex flex-col ":"hidden "} w-full bg-[#eff6ff] text-[#022953] p-4 sm:p-10 gap-y-4 sm:gap-y-8 items-center sm:items-start`,children:[(0,i.jsxs)("div",{className:"flex w-full justify-between items-center",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[null!==G&&0!==G&&void 0!==G&&Number(X()?.split(" ")[0])!==G&&G>Number(X()?.split(" ")[0])&&(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)("span",{className:"font-semibold text-3xl text-[#022953] font-sans line-through",style:{fontWeight:1e3},children:[G," USD"]}),(0,i.jsxs)("span",{className:"px-2 py-1 rounded-full bg-red-500 text-white font-bold",children:["-",Math.round((G-Number(X()?.split(" ")[0]))/G*100),"%"]})]}),(0,i.jsx)("span",{className:"font-semibold text-3xl text-[#022953] font-sans",style:{fontWeight:1e3},children:X()})]}),(0,i.jsxs)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(window.location.href),E(!0),setTimeout(()=>E(!1),2e3)}catch(e){console.error("Error al copiar el enlace:",e)}},className:"p-2 text-[#022953] hover:bg-gray-100 rounded-full transition-colors relative","aria-label":"Compartir producto",title:"Copiar enlace",children:[(0,i.jsx)(n,{className:"w-6 h-6"}),q&&(0,i.jsx)("span",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:"\xa1Enlace copiado!"})]})]}),(0,i.jsxs)("div",{className:`flex items-center gap-2 ${0===r.product.count?"hidden":""}`,children:[(0,i.jsx)("button",{onClick:()=>F(_-1),disabled:_<=1,className:"bg-[#022953] h-10 w-10 text-white flex items-center justify-center rounded-lg disabled:opacity-50",children:(0,i.jsx)(u.A,{size:16})}),(0,i.jsx)("input",{type:"number",value:_,onChange:e=>F(Number(e.target.value)||1),min:"1",max:r?.product?.count||1,className:"w-16 h-10 text-center border border-gray-300 rounded-lg"}),(0,i.jsx)("button",{onClick:()=>F(_+1),disabled:_>=(r?.product?.count||1),className:"bg-[#022953] h-10 w-10 text-white flex items-center justify-center rounded-lg disabled:opacity-50",children:(0,i.jsx)(m.A,{size:16})}),(0,i.jsx)("button",{onClick:()=>V(r?.product?.id,_),disabled:I||!r?.product?.id,className:"bg-[#022953] h-10 px-4 text-white rounded-lg font-medium ml-2 disabled:opacity-50",children:I?"A\xf1adiendo...":"A\xf1adir al carrito"})]})]})}),j&&(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,i.jsxs)("div",{className:"bg-white p-6 rounded-lg max-w-md w-full",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,i.jsx)("h2",{className:"text-xl font-bold text-[#022953]",children:"Iniciar sesi\xf3n"}),(0,i.jsx)("button",{onClick:()=>P(!1),className:"text-gray-500 hover:text-gray-700",children:(0,i.jsx)(o.A,{size:24})})]}),(0,i.jsx)("p",{className:"mb-4",children:"Por favor inicia sesi\xf3n para continuar con tu compra."}),(0,i.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,i.jsx)("button",{onClick:()=>P(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancelar"}),(0,i.jsx)("button",{onClick:()=>{P(!1),t.push("/login")},className:"px-4 py-2 bg-[#022953] text-white rounded-md hover:bg-blue-700",children:"Iniciar sesi\xf3n"})]})]})}),N.length>0&&(0,i.jsxs)("div",{className:"mt-16",children:[(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-[#022953]",children:"Tambi\xe9n te puede interesar"}),r?.product?.categoria?.id&&(0,i.jsx)("div",{className:"hidden sm:block",children:(0,i.jsxs)(f(),{href:`/products?category=${encodeURIComponent(r.product.categoria.name)}`,className:"flex items-center text-[#022953] hover:text-blue-700 transition-colors",children:["Ver m\xe1s productos ",(0,i.jsx)(p,{className:"ml-1 w-4 h-4"})]})})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:N.map(e=>(0,i.jsxs)(f(),{href:`/products/id?itemId=${e.id}`,className:"group block bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[(0,i.jsx)("div",{className:"relative h-48 bg-gray-100",children:(0,i.jsx)(s.default,{src:`https://app.fadiar.com/api/${e.img||e.image}`,alt:e.name,fill:!0,className:"object-cover",onError:e=>{e.target.style.display="none"}})}),(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2",children:e.name}),(0,i.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.brand}),(0,i.jsx)("p",{className:"mt-2 font-medium text-[#022953]",children:function(e){let[t,r,i]=e;return"CU"===h&&"CUP"===i?`${r} CUP`:"CU"!==h&&"USD"===i?`${r} USD`:"CU"===h&&"USD"===i?`${r*J[1].value} CUP`:"CU"!==h&&"CUP"===i?`${Math.ceil(r/J[1].value*100)/100} USD`:""}(e.prices[0])})]})]},e.id))}),r?.product?.categoria?.id&&(0,i.jsx)("div",{className:"block sm:hidden w-full mt-6",children:(0,i.jsxs)(f(),{href:`/products?category=${encodeURIComponent(r.product.categoria.name)}`,className:"flex items-center justify-center w-full text-[#022953] hover:text-blue-700 transition-colors border border-[#022953] rounded-lg py-2.5 px-6 font-medium hover:bg-gray-50",children:["Ver m\xe1s productos ",(0,i.jsx)(p,{className:"ml-1 w-4 h-4"})]})})]})]})}},53121:(e,t,r)=>{Promise.resolve().then(r.bind(r,51964))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var i=r(31658);let s=async e=>[{type:"image/x-icon",sizes:"24x32",url:(0,i.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},75754:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var i=r(60687);function s(){return(0,i.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"w-12 h-12 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),(0,i.jsx)("div",{className:"text-gray-600 font-medium",children:"Cargando..."})]})})}},79551:e=>{"use strict";e.exports=require("url")},94434:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});let i=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Projects\\\\fadiar-shop\\\\src\\\\components\\\\ProductId.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Projects\\fadiar-shop\\src\\components\\ProductId.tsx","default")},95900:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>n,routeModule:()=>m,tree:()=>c});var i=r(65239),s=r(48088),d=r(88170),l=r.n(d),a=r(30893),o={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>a[e]);r.d(t,o);let c={children:["",{children:["products",{children:["id",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,29499)),"D:\\Projects\\fadiar-shop\\src\\app\\products\\id\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,97582)),"D:\\Projects\\fadiar-shop\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,n=["D:\\Projects\\fadiar-shop\\src\\app\\products\\id\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new i.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/products/id/page",pathname:"/products/id",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},96474:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});let i=(0,r(62688).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[447,108,658,242],()=>r(95900));module.exports=i})();